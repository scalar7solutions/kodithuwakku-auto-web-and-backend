import{L as g,F as v,M as i,o as w,e as y,w as p,f as e,A as C,j as V,N as I,E as d,g as m,J as S,Q as L,R as U}from"./index-Dluosi3b.js";import{A as k,S as x}from"./AppLayout-COeyb3FR.js";import{F as j}from"./FileInputComponent-Dvzru4zD.js";import{E as A}from"./Editor-DmQygy4B.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";const D={components:{Link:g,AppLayout:k,Editor:A,FileInputComponent:j,SelectInputComponentVue:x},props:{errors:Object,allRoles:Object,backendUser:Object,branches:Array,service_types:Object,vehicle_manufacture:Object,testimonial:Object,homebanner:Object},data(){return{apiKey:"vw4ubmg1a3lka0446gbr2zl6hoyieci6cv2wpw8czi7giive",form:v({id:"",name:"",status:"",image:"",editorContent:""})}},mounted(){var t;this.homebanner&&(this.form.id=this.homebanner.id,this.form.name=this.homebanner.name,this.form.status=this.homebanner.status,this.form.editorContent=this.homebanner.editorContent);var o=(t=this.branch)==null?void 0:t.media.filter(n=>n.custom_properties.type=="galery");o&&o.length>0&&(o.forEach(n=>{this.form.images.push(n)}),this.form.galery_images=o.map(n=>({previewURL:n.original_url}))||[])},computed:{image(){return this.homebanner&&this.homebanner.media.length>0?this.homebanner.media[0].original_url:""}},methods:{submit(){this.form.post(this.homebanner?route("homebanner.update"):route("homebanner.store"),{onSuccess:()=>{this.form.reset(),this.$root.showMessage("success",'<span class="text-success">Success</span><br/>',"A Record Was Created Successfully! ")},onError:()=>{this.form.reset("password","password_confirmation"),this.$root.showMessage("error",'<span class="text-danger">Error</span><br>',"Something went wrong! ")}})}},handleDragOver(o){o.preventDefault()},handleDrop(o){o.preventDefault();const t=o.dataTransfer.files;console.log("Dropped files:",t);for(let n=0;n<t.length;n++){const l=t[n];l.previewURL=URL.createObjectURL(l),this.form.images.push(t[n])}},removeImage(o){this.form.removed_images.push(this.form.images[o]),this.form.galery_images.splice(o,1)[0]}},a=o=>(L("data-v-08a7f0dc"),o=o(),U(),o),E={class:"row"},R={class:"card mb-4"},F=a(()=>e("div",{class:"card-header pb-0"},[e("h5",null,"Home Banner"),e("p",null,"Manage home banner.")],-1)),M=a(()=>e("hr",null,null,-1)),N={class:"card-body"},B={class:"row"},T={class:"mb-3 col-md-6"},z=a(()=>e("label",{for:"name",class:"form-label"},"Title",-1)),K={class:"text-danger"},q=a(()=>e("label",{for:"description",class:"form-label"},"Description",-1)),H={class:"mb-3 col-md-6"},J=a(()=>e("label",{for:"image",class:"form-label me-3"},"Image",-1)),Q=a(()=>e("br",null,null,-1)),W={class:"text-danger"},G={class:"mt-2"},P=["disabled"],X=S("Cancel");function Y(o,t,n,l,s,c){const u=i("Editor"),h=i("FileInputComponent"),f=i("SelectInputComponentVue"),b=i("Link"),_=i("AppLayout");return w(),y(_,null,{default:p(()=>[e("div",E,[e("div",R,[F,M,e("div",N,[e("form",{id:"formAccountSettings",onSubmit:t[4]||(t[4]=C((...r)=>c.submit&&c.submit(...r),["prevent"]))},[e("div",B,[e("div",T,[z,V(e("input",{class:"form-control",type:"text",id:"name",name:"Name","onUpdate:modelValue":t[0]||(t[0]=r=>s.form.name=r)},null,512),[[I,s.form.name]]),e("div",K,d(s.form.errors.name),1)]),e("div",null,[q,m(u,{modelValue:s.form.editorContent,"onUpdate:modelValue":t[1]||(t[1]=r=>s.form.editorContent=r),"api-key":s.apiKey,init:{plugins:"lists link image table code help wordcount"}},null,8,["modelValue","api-key"])]),e("div",H,[J,Q,m(h,{isRequired:!1,id:"image",prvImage:c.image,modelValue:s.form.image,"onUpdate:modelValue":t[2]||(t[2]=r=>s.form.image=r)},null,8,["prvImage","modelValue"]),e("div",W,d(s.form.errors.image),1)])]),m(f,{id:"status",label:"status",error:s.form.errors.status,options:[{id:"1",name:"Active"},{id:"0",name:"Inactive"}],modelValue:s.form.status,"onUpdate:modelValue":t[3]||(t[3]=r=>s.form.status=r)},null,8,["error","modelValue"]),e("div",G,[e("button",{type:"submit",class:"btn btn-main me-2",disabled:s.form.processing},d(n.homebanner?"Update":"Save"),9,P),m(b,{class:"btn btn-outline-danger",href:o.route("homebanner.index")},{default:p(()=>[X]),_:1},8,["href"])])],32)])])])]),_:1})}const se=O(D,[["render",Y],["__scopeId","data-v-08a7f0dc"]]);export{se as default};
