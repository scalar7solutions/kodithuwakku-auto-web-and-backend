import{d as T,J as A,j as n,o as l,y as f,f as e,g as v,G as u,H as _,w as p,F as m,E as a,x as y,T as S}from"./index-CgzAhKMx.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";const F={components:{Link:T.Link},name:"LeaseCar",props:{countries:{type:Array,default:()=>[]},vehicles:{type:Array,default:()=>[]},models:{type:Array,default:()=>[]},manufactures:{type:Array,default:()=>[]}},data(){return{activeTab:"",componentId:"firstSection_"+Date.now()}},computed:{activemanufactures(){return this.manufactures.find(t=>t.title===this.activeTab)},filteredVehicles(){if(!this.activemanufactures)return console.log("FirstSection - No active manufacturer selected"),[];const i=this.vehicles.filter(t=>{const o=t.manufacture_id===this.activemanufactures.id,r=t.manufacture&&t.manufacture.id===this.activemanufactures.id,c=t.manufacture&&t.manufacture.title===this.activemanufactures.title;return o||r||c});return console.log(`FirstSection - Filtered ${i.length} vehicles for ${this.activemanufactures.title}`),i}},mounted(){console.log("FirstSection - Vehicles Data:",this.vehicles),console.log("FirstSection - Manufactures Data:",this.manufactures),console.log("FirstSection - Models Data:",this.models),this.manufactures.length>0&&(this.activeTab=this.manufactures[0].title),this.$nextTick(()=>{console.log("FirstSection - Active Tab:",this.activeTab),console.log("FirstSection - Filtered Vehicles:",this.filteredVehicles)})},methods:{availabilityColor(i){switch(i){case"Available":return"availability-available";case"Arriving":return"availability-arriving";case"Sold":return"availability-sold";default:return""}},getManufacturerModel(i){if(i&&i.manufacture&&i.vehicle_model)return`${i.manufacture.title||i.manufacture.name||""} ${i.vehicle_model.title||i.vehicle_model.name||""}`.trim();if(!i||!i.manufacture_id||!i.vehicle_model_id)return console.warn("Invalid car data or missing IDs:",i),"";const t=this.manufactures.find(r=>r.id===i.manufacture_id)||{},o=this.models.find(r=>r.id===i.vehicle_model_id)||{};return`${t.name||t.title||""} ${o.title||o.name||""}`.trim()},setActiveTab(i){console.log("Setting activeTab to:",i),this.activeTab=i},getMainImage(i){const t=i.media.find(r=>{var c;return((c=r.custom_properties)==null?void 0:c.type)==="vehicle_main"}),o=i.media[0];return(t==null?void 0:t.original_url)||(o==null?void 0:o.original_url)||"/images/placeholder.png"}}},M={class:"buying-essentials-section"},V={key:0,class:"lease-section container px-3"},x={class:"tabs-container text-center pb-5"},w={class:"tabs"},N=["onClick"],D={class:"car-grid"},I={class:"image-container"},L=["src"],E={class:"image-counter"},P={class:"card-content"},B={class:"price-section"},$={class:"price-left"},R={class:"price"},j={class:"price-note"},H={class:"price-right"},O={class:"detail-item"},U={class:"detail-item"},z={class:"detail-item"},G={key:1,style:{color:"green"}},J={key:0,class:"detail-item"},K={class:"car-details"},W={key:0,class:"car-name"},Y={key:1,class:"car-name"},q={class:"features-grid"},Q={class:"feature-item feature-left"},X={class:"feature-item feature-right"},Z={class:"feature-item feature-left"},ee={class:"feature-item feature-right"},te={class:"feature-item feature-left"},se={class:"feature-item feature-right"},ie={key:0,class:"see-more-container"};function ae(i,t,o,r,c,d){const b=A("Link");return l(),n("section",M,[o.manufactures.length>0?(l(),n("div",V,[e("div",x,[t[0]||(t[0]=e("h1",{class:"secondFontStyle vehicle-title"}," VEHICLE STOCK ",-1)),e("div",w,[(l(!0),n(u,null,_(o.manufactures.slice(0,6),s=>(l(),n("button",{key:s.id,class:y(["tab-btn",{active:c.activeTab===s.title}]),onClick:g=>d.setActiveTab(s.title)},a(s.title),11,N))),128))])]),v(S,{name:"tab-transition",mode:"out-in"},{default:p(()=>[d.filteredVehicles.length>0?(l(),n("div",{class:"tab-contentn",key:c.activeTab+"-cars"},[e("div",D,[(l(!0),n(u,null,_(d.filteredVehicles.slice(0,8),(s,g)=>(l(),n("div",{class:"car-card",key:g},[v(b,{class:"card border shadow-sm d-flex flex-column h-100",type:"button",href:i.route("product",{model:i.$root.stringToSlug(s.manufacture.title),slug:i.$root.stringToSlug(s.manufacture.title)+"-"+i.$root.stringToSlug(s.vehicle_model.title),id:s.id})},{default:p(()=>[e("div",I,[e("img",{src:d.getMainImage(s),alt:"Car Image",class:"car-image"},null,8,L),e("div",E,[t[1]||(t[1]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("rect",{x:"2",y:"2",width:"16",height:"16",rx:"2"}),e("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),e("path",{d:"M20.4 14.5L16 10 4 20"})],-1)),m(" "+a(s.media.filter(k=>{var h;return((h=k.custom_properties)==null?void 0:h.type)==="vehicle_gallery"}).length),1)])]),e("div",P,[e("div",B,[e("div",$,[t[2]||(t[2]=e("span",{class:"label"},"Price",-1)),e("span",R,"$"+a(s.price||"0"),1),e("span",j,a(s.priceNote||"Price includes VAT"),1)]),e("div",H,[e("div",O,[s.used_status==="Used"?(l(),n(u,{key:0},[m(a(s.engine_capacity)+" Initial Payment ",1)],64)):(l(),n(u,{key:1},[m(a(s.engine_capacity)+" Engine ",1)],64))]),e("div",U,a(s.year||"24 Month Contract")+" Reg Year ",1),e("div",z,[s.used_status==="Used"?(l(),n(u,{key:0},[m(a(s.mileage)+" Miles P/A ",1)],64)):(l(),n("span",G,"BRAND NEW"))]),s.monthly_price?(l(),n("div",J,a("$"+s.monthly_price)+" Per Month ",1)):f("",!0)])]),e("div",K,[s.manufacture&&s.vehicle_model?(l(),n("h2",W,a(d.getManufacturerModel(s)),1)):(l(),n("h2",Y)),e("p",{class:y(["car-model",d.availabilityColor(s.availability)])},a(s.availability),3)]),e("div",q,[e("div",Q,[t[3]||(t[3]=e("img",{class:"ficon",src:"/images/Assets/seat.svg",alt:"Seat icon"},null,-1)),e("span",null,a(s.seats)+" Seats",1)]),e("div",X,[t[4]||(t[4]=e("img",{class:"ficon",src:"/images/Assets/doors.svg",alt:"Door icon"},null,-1)),e("span",null,a(s.doors)+" Doors",1)]),e("div",Z,[t[5]||(t[5]=e("img",{class:"ficon",src:"/images/Assets/passenger.svg",alt:"Passengers icon"},null,-1)),e("span",null,a(s.passengers)+" persons",1)]),e("div",ee,[t[6]||(t[6]=e("img",{class:"ficon",src:"/images/Assets/flash.svg",alt:"Fuel icon"},null,-1)),e("span",null,a(s.fuel_type),1)]),e("div",te,[t[7]||(t[7]=e("img",{class:"ficon",src:"/images/Assets/automatc.svg",alt:"Transmission icon"},null,-1)),e("span",null,a(s.transmission),1)]),e("div",se,[t[8]||(t[8]=e("img",{class:"ficon",src:"/images/Assets/miles.svg",alt:"Range icon"},null,-1)),e("span",null,a(s.range)+" Miles",1)])])])]),_:2},1032,["href"])]))),128))])])):(l(),n("div",{class:"tab-contentn placeholder-content",key:c.activeTab+"-none"},t[9]||(t[9]=[e("img",{src:"/images/Assets/NotAv.png",alt:"No available cars",class:"placeholder-image"},null,-1),e("p",{class:"no-cars-message"}," No available cars from this brand. ",-1)])))]),_:1}),d.filteredVehicles.length>0?(l(),n("div",ie,t[10]||(t[10]=[e("a",{href:"/available-cars",class:"see-more-link"},"View More Details",-1)]))):f("",!0)])):f("",!0)])}const oe=C(F,[["render",ae],["__scopeId","data-v-da9bdf81"]]);export{oe as default};
