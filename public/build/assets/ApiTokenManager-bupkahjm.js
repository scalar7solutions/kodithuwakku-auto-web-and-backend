import{j as i,o as a,g as r,w as l,k as b,f as t,l as u,m as k,T as S,p as H,q as L,s as O,t as j,e as F,x as w,y as x,z as Y,A as K,B as Q,C as A,D as R,E as h,d as P,u as y,F as f,G as T,H as B}from"./index-CgzAhKMx.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";const X={class:"text-sm text-gray-600"},Z={__name:"ActionMessage",props:{on:Boolean},setup(s){return(n,o)=>(a(),i("div",null,[r(S,{"leave-active-class":"transition ease-in duration-1000","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:l(()=>[b(t("div",X,[u(n.$slots,"default")],512),[[k,s.on]])]),_:3})]))}},ee={},se={class:"md:col-span-1 flex justify-between"},te={class:"px-4 sm:px-0"},oe={class:"text-lg font-medium text-gray-900"},ne={class:"mt-1 text-sm text-gray-600"},le={class:"px-4 sm:px-0"};function ae(s,n){return a(),i("div",se,[t("div",te,[t("h3",oe,[u(s.$slots,"title")]),t("p",ne,[u(s.$slots,"description")])]),t("div",le,[u(s.$slots,"aside")])])}const N=W(ee,[["render",ae]]),ie={class:"md:grid md:grid-cols-3 md:gap-6"},re={class:"mt-5 md:mt-0 md:col-span-2"},de={class:"px-4 py-5 sm:p-6 bg-white shadow sm:rounded-lg"},ue={__name:"ActionSection",setup(s){return(n,o)=>(a(),i("div",ie,[r(N,null,{title:l(()=>[u(n.$slots,"title")]),description:l(()=>[u(n.$slots,"description")]),_:3}),t("div",re,[t("div",de,[u(n.$slots,"content")])])]))}},ce=["type"],I={__name:"Button",props:{type:{type:String,default:"submit"}},setup(s){return(n,o)=>(a(),i("button",{type:s.type,class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition"},[u(n.$slots,"default")],8,ce))}},me={class:"fixed inset-0 overflow-y-auto px-4 py-6 sm:px-0 z-50","scroll-region":""},U={__name:"Modal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0}},emits:["close"],setup(s,{emit:n}){const o=s,m=n;H(()=>o.show,()=>{o.show?document.body.style.overflow="hidden":document.body.style.overflow=null});const c=()=>{o.closeable&&m("close")},p=v=>{v.key==="Escape"&&o.show&&c()};L(()=>document.addEventListener("keydown",p)),O(()=>{document.removeEventListener("keydown",p),document.body.style.overflow=null});const g=j(()=>({sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl"})[o.maxWidth]);return(v,C)=>(a(),F(Y,{to:"body"},[r(S,{"leave-active-class":"duration-200"},{default:l(()=>[b(t("div",me,[r(S,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:l(()=>[b(t("div",{class:"fixed inset-0 transform transition-all",onClick:c},C[0]||(C[0]=[t("div",{class:"absolute inset-0 bg-gray-500 opacity-75"},null,-1)]),512),[[k,s.show]])]),_:1}),r(S,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to-class":"opacity-100 translate-y-0 sm:scale-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100 translate-y-0 sm:scale-100","leave-to-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:l(()=>[b(t("div",{class:w(["mb-6 bg-white rounded-lg overflow-hidden shadow-xl transform transition-all sm:w-full sm:mx-auto",g.value])},[s.show?u(v.$slots,"default",{key:0}):x("",!0)],2),[[k,s.show]])]),_:3})],512),[[k,s.show]])]),_:3})]))}},pe={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},fe={class:"sm:flex sm:items-start"},ye={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},ve={class:"text-lg"},ge={class:"mt-2"},_e={class:"flex flex-row justify-end px-6 py-4 bg-gray-100 text-right"},xe={__name:"ConfirmationModal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0}},emits:["close"],setup(s,{emit:n}){const o=n,m=()=>{o("close")};return(c,p)=>(a(),F(U,{show:s.show,"max-width":s.maxWidth,closeable:s.closeable,onClose:m},{default:l(()=>[t("div",pe,[t("div",fe,[p[0]||(p[0]=t("div",{class:"mx-auto shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},[t("svg",{class:"h-6 w-6 text-red-600",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1)),t("div",ye,[t("h3",ve,[u(c.$slots,"title")]),t("div",ge,[u(c.$slots,"content")])])])]),t("div",_e,[u(c.$slots,"footer")])]),_:3},8,["show","max-width","closeable"]))}},he=["type"],be={__name:"DangerButton",props:{type:{type:String,default:"button"}},setup(s){return(n,o)=>(a(),i("button",{type:s.type,class:"inline-flex items-center justify-center px-4 py-2 bg-red-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-500 focus:outline-none focus:border-red-700 focus:ring focus:ring-red-200 active:bg-red-600 disabled:opacity-25 transition"},[u(n.$slots,"default")],8,he))}},$e={class:"px-6 py-4"},ke={class:"text-lg"},we={class:"mt-4"},Ce={class:"flex flex-row justify-end px-6 py-4 bg-gray-100 text-right"},D={__name:"DialogModal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0}},emits:["close"],setup(s,{emit:n}){const o=n,m=()=>{o("close")};return(c,p)=>(a(),F(U,{show:s.show,"max-width":s.maxWidth,closeable:s.closeable,onClose:m},{default:l(()=>[t("div",$e,[t("div",ke,[u(c.$slots,"title")]),t("div",we,[u(c.$slots,"content")])]),t("div",Ce,[u(c.$slots,"footer")])]),_:3},8,["show","max-width","closeable"]))}},Se={class:"md:grid md:grid-cols-3 md:gap-6"},Ae={class:"mt-5 md:mt-0 md:col-span-2"},Pe={class:"grid grid-cols-6 gap-6"},Te={key:0,class:"flex items-center justify-end px-4 py-3 bg-gray-50 text-right sm:px-6 shadow sm:rounded-bl-md sm:rounded-br-md"},Be={__name:"FormSection",emits:["submitted"],setup(s){const n=j(()=>!!K().actions);return(o,m)=>(a(),i("div",Se,[r(N,null,{title:l(()=>[u(o.$slots,"title")]),description:l(()=>[u(o.$slots,"description")]),_:3}),t("div",Ae,[t("form",{onSubmit:m[0]||(m[0]=Q(c=>o.$emit("submitted"),["prevent"]))},[t("div",{class:w(["px-4 py-5 bg-white sm:p-6 shadow",n.value?"sm:rounded-tl-md sm:rounded-tr-md":"sm:rounded-md"])},[t("div",Pe,[u(o.$slots,"form")])],2),n.value?(a(),i("div",Te,[u(o.$slots,"actions")])):x("",!0)],32)])]))}},Ve=["value"],je={__name:"Input",props:{modelValue:String},emits:["update:modelValue"],setup(s,{expose:n}){const o=A(null);return L(()=>{o.value.hasAttribute("autofocus")&&o.value.focus()}),n({focus:()=>o.value.focus()}),(m,c)=>(a(),i("input",{ref_key:"input",ref:o,class:"border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm",value:s.modelValue,onInput:c[0]||(c[0]=p=>m.$emit("update:modelValue",p.target.value))},null,40,Ve))}},Fe=["value"],M={__name:"Checkbox",props:{checked:{type:[Array,Boolean],default:!1},value:{type:String,default:null}},emits:["update:checked"],setup(s,{emit:n}){const o=n,m=s,c=j({get(){return m.checked},set(p){o("update:checked",p)}});return(p,g)=>b((a(),i("input",{"onUpdate:modelValue":g[0]||(g[0]=v=>c.value=v),type:"checkbox",value:s.value,class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,8,Fe)),[[R,c.value]])}},Ie={class:"text-sm text-red-600"},De={__name:"InputError",props:{message:String},setup(s){return(n,o)=>b((a(),i("div",null,[t("p",Ie,h(s.message),1)],512)),[[k,s.message]])}},Me={class:"block font-medium text-sm text-gray-700"},Ee={key:0},Le={key:1},E={__name:"Label",props:{value:String},setup(s){return(n,o)=>(a(),i("label",Me,[s.value?(a(),i("span",Ee,h(s.value),1)):(a(),i("span",Le,[u(n.$slots,"default")]))]))}},We=["type"],V={__name:"SecondaryButton",props:{type:{type:String,default:"button"}},setup(s){return(n,o)=>(a(),i("button",{type:s.type,class:"inline-flex items-center px-4 py-2 bg-white border border-gray-300 rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest shadow-sm hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:ring focus:ring-blue-200 active:text-gray-800 active:bg-gray-50 disabled:opacity-25 transition"},[u(n.$slots,"default")],8,We))}},Ne={},Ue={class:"hidden sm:block"};function ze(s,n){return a(),i("div",Ue,n[0]||(n[0]=[t("div",{class:"py-8"},[t("div",{class:"border-t border-gray-200"})],-1)]))}const Je=W(Ne,[["render",ze]]),qe={class:"col-span-6 sm:col-span-4"},Ge={key:0,class:"col-span-6"},He={class:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-4"},Oe={class:"flex items-center"},Ye={class:"ml-2 text-sm text-gray-600"},Ke={key:0},Qe={class:"mt-10 sm:mt-0"},Re={class:"space-y-6"},Xe={class:"flex items-center"},Ze={key:0,class:"text-sm text-gray-400"},es=["onClick"],ss=["onClick"],ts={key:0,class:"mt-4 bg-gray-100 px-4 py-2 rounded font-mono text-sm text-gray-500"},os={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ns={class:"flex items-center"},ls={class:"ml-2 text-sm text-gray-600"},rs={__name:"ApiTokenManager",props:{tokens:Array,availablePermissions:Array,defaultPermissions:Array},setup(s){const n=s,o=P.useForm({name:"",permissions:n.defaultPermissions}),m=P.useForm({permissions:[]}),c=P.useForm(),p=A(!1),g=A(null),v=A(null),C=()=>{o.post(route("api-tokens.store"),{preserveScroll:!0,onSuccess:()=>{p.value=!0,o.reset()}})},z=_=>{m.permissions=_.abilities,g.value=_},J=()=>{m.put(route("api-tokens.update",g.value),{preserveScroll:!0,preserveState:!0,onSuccess:()=>g.value=null})},q=_=>{v.value=_},G=()=>{c.delete(route("api-tokens.destroy",v.value),{preserveScroll:!0,preserveState:!0,onSuccess:()=>v.value=null})};return(_,e)=>(a(),i("div",null,[r(Be,{onSubmitted:C},{title:l(()=>e[9]||(e[9]=[f(" Create API Token ")])),description:l(()=>e[10]||(e[10]=[f(" API tokens allow third-party services to authenticate with our application on your behalf. ")])),form:l(()=>[t("div",qe,[r(E,{for:"name",value:"Name"}),r(je,{id:"name",modelValue:y(o).name,"onUpdate:modelValue":e[0]||(e[0]=d=>y(o).name=d),type:"text",class:"mt-1 block w-full",autofocus:""},null,8,["modelValue"]),r(De,{message:y(o).errors.name,class:"mt-2"},null,8,["message"])]),s.availablePermissions.length>0?(a(),i("div",Ge,[r(E,{for:"permissions",value:"Permissions"}),t("div",He,[(a(!0),i(T,null,B(s.availablePermissions,d=>(a(),i("div",{key:d},[t("label",Oe,[r(M,{checked:y(o).permissions,"onUpdate:checked":e[1]||(e[1]=$=>y(o).permissions=$),value:d},null,8,["checked","value"]),t("span",Ye,h(d),1)])]))),128))])])):x("",!0)]),actions:l(()=>[r(Z,{on:y(o).recentlySuccessful,class:"mr-3"},{default:l(()=>e[11]||(e[11]=[f(" Created. ")])),_:1,__:[11]},8,["on"]),r(I,{class:w({"opacity-25":y(o).processing}),disabled:y(o).processing},{default:l(()=>e[12]||(e[12]=[f(" Create ")])),_:1,__:[12]},8,["class","disabled"])]),_:1}),s.tokens.length>0?(a(),i("div",Ke,[r(Je),t("div",Qe,[r(ue,null,{title:l(()=>e[13]||(e[13]=[f(" Manage API Tokens ")])),description:l(()=>e[14]||(e[14]=[f(" You may delete any of your existing tokens if they are no longer needed. ")])),content:l(()=>[t("div",Re,[(a(!0),i(T,null,B(s.tokens,d=>(a(),i("div",{key:d.id,class:"flex items-center justify-between"},[t("div",null,h(d.name),1),t("div",Xe,[d.last_used_ago?(a(),i("div",Ze," Last used "+h(d.last_used_ago),1)):x("",!0),s.availablePermissions.length>0?(a(),i("button",{key:1,class:"cursor-pointer ml-6 text-sm text-gray-400 underline",onClick:$=>z(d)}," Permissions ",8,es)):x("",!0),t("button",{class:"cursor-pointer ml-6 text-sm text-red-500",onClick:$=>q(d)}," Delete ",8,ss)])]))),128))])]),_:1})])])):x("",!0),r(D,{show:p.value,onClose:e[3]||(e[3]=d=>p.value=!1)},{title:l(()=>e[15]||(e[15]=[f(" API Token ")])),content:l(()=>[e[16]||(e[16]=t("div",null," Please copy your new API token. For your security, it won't be shown again. ",-1)),_.$page.props.jetstream.flash.token?(a(),i("div",ts,h(_.$page.props.jetstream.flash.token),1)):x("",!0)]),footer:l(()=>[r(V,{onClick:e[2]||(e[2]=d=>p.value=!1)},{default:l(()=>e[17]||(e[17]=[f(" Close ")])),_:1,__:[17]})]),_:1},8,["show"]),r(D,{show:g.value,onClose:e[6]||(e[6]=d=>g.value=null)},{title:l(()=>e[18]||(e[18]=[f(" API Token Permissions ")])),content:l(()=>[t("div",os,[(a(!0),i(T,null,B(s.availablePermissions,d=>(a(),i("div",{key:d},[t("label",ns,[r(M,{checked:y(m).permissions,"onUpdate:checked":e[4]||(e[4]=$=>y(m).permissions=$),value:d},null,8,["checked","value"]),t("span",ls,h(d),1)])]))),128))])]),footer:l(()=>[r(V,{onClick:e[5]||(e[5]=d=>g.value=null)},{default:l(()=>e[19]||(e[19]=[f(" Cancel ")])),_:1,__:[19]}),r(I,{class:w(["ml-3",{"opacity-25":y(m).processing}]),disabled:y(m).processing,onClick:J},{default:l(()=>e[20]||(e[20]=[f(" Save ")])),_:1,__:[20]},8,["class","disabled"])]),_:1},8,["show"]),r(xe,{show:v.value,onClose:e[8]||(e[8]=d=>v.value=null)},{title:l(()=>e[21]||(e[21]=[f(" Delete API Token ")])),content:l(()=>e[22]||(e[22]=[f(" Are you sure you would like to delete this API token? ")])),footer:l(()=>[r(V,{onClick:e[7]||(e[7]=d=>v.value=null)},{default:l(()=>e[23]||(e[23]=[f(" Cancel ")])),_:1,__:[23]}),r(be,{class:w(["ml-3",{"opacity-25":y(c).processing}]),disabled:y(c).processing,onClick:G},{default:l(()=>e[24]||(e[24]=[f(" Delete ")])),_:1,__:[24]},8,["class","disabled"])]),_:1},8,["show"])]))}};export{rs as default};
