import{d as f,J as v,j as o,y as _,o as l,f as e,g as k,x as d,w as h,G as b,H as w,e as T,E as a,B as C,F as y,T as P}from"./index-CgzAhKMx.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";const S={name:"FeaturedListings",components:{Link:f.Link},props:{featuredVehicles:{type:Array,default:()=>[]}},data(){return{activeTab:"inStock",page:0,perPageDesktop:10,width:0}},computed:{perPage(){return this.width<576?1:this.width<1050?6:this.width<1800?8:this.perPageDesktop},filtered(){return this.featuredVehicles},currentPageItems(){const n=this.page*this.perPage;return this.filtered.slice(n,n+this.perPage)}},methods:{switchTab(n){this.activeTab=n,this.page=0},prevPage(){this.page>0&&this.page--},nextPage(){(this.page+1)*this.perPage<this.filtered.length&&this.page++},onResize(){this.width=window.innerWidth,this.page=0}},mounted(){this.onResize(),window.addEventListener("resize",this.onResize)},beforeUnmount(){window.removeEventListener("resize",this.onResize)}},x={key:0,class:"featured-listings container-fluid section-spacing"},V={class:"row mb-4"},z={class:"col-12"},F={class:"tabs d-flex mb-0"},B={class:"card-image"},D=["src","alt"],E={class:"year-pill"},I={class:"card-details"},N={class:"car-title"},R={class:"car-subtitle"},M={class:"specs"},U={class:"spec-item"},j={class:"spec-item"},A={class:"spec-item"},G={class:"card-footer"},H={class:"price"},J={class:"pager"},K=["disabled"],W=["disabled"];function q(n,s,O,Q,r,i){const m=v("Link");return i.filtered.length?(l(),o("section",x,[s[13]||(s[13]=e("div",{class:"row align-items-center mb-3"},[e("div",{class:"col-8"},[e("h2",{class:"headText"},"Featured Listings")]),e("div",{class:"col-4 text-end"})],-1)),e("div",V,[e("div",z,[e("ul",F,[e("li",{class:d({active:r.activeTab==="inStock"}),onClick:s[0]||(s[0]=t=>i.switchTab("inStock"))}," In Stock ",2),e("li",{class:d({active:r.activeTab==="newCars"}),onClick:s[1]||(s[1]=t=>i.switchTab("newCars"))}," New Cars ",2),e("li",{class:d({active:r.activeTab==="usedCars"}),onClick:s[2]||(s[2]=t=>i.switchTab("usedCars"))}," Used Cars ",2)])])]),k(P,{name:"fade-slide",mode:"out-in"},{default:h(()=>[(l(),o("div",{key:r.page,class:"grid"},[(l(!0),o(b,null,w(i.currentPageItems,t=>(l(),T(m,{key:t.id,href:n.route("product",{model:n.$root.stringToSlug(t.manufacture.title),slug:n.$root.stringToSlug(t.manufacture.title)+"-"+n.$root.stringToSlug(t.vehicle_model.title),id:t.id}),class:"car-card text-decoration-none"},{default:h(()=>{var c,g,p,u;return[e("div",B,[e("img",{src:((g=(c=t.media)==null?void 0:c[0])==null?void 0:g.original_url)||"/placeholder.png",alt:((p=t.vehicle_model)==null?void 0:p.name)||"Vehicle Image"},null,8,D),e("span",E,a(t.year),1),e("span",{class:"bookmark-icon",onClick:s[3]||(s[3]=C(()=>{},["stop"]))},s[6]||(s[6]=[e("img",{src:"/images/bookmark.png",alt:"Bookmark",class:"bookmark-img"},null,-1)]))]),e("div",I,[e("h5",N,a(t.manufacture.title)+" "+a(t.vehicle_model.title)+" – "+a(t.year),1),e("p",R,a((u=t.vehicle_type)==null?void 0:u.title),1),e("div",M,[e("div",U,[s[7]||(s[7]=e("img",{src:"/images/tachometer.png",alt:"Mileage",class:"spec-icon"},null,-1)),e("span",null,a(t.mileage)+" Miles",1)]),e("div",j,[s[8]||(s[8]=e("img",{src:"/images/gasoline-pump.png",alt:"Fuel",class:"spec-icon"},null,-1)),e("span",null,a(t.FuelTypeString),1)]),e("div",A,[s[9]||(s[9]=e("img",{src:"/images/gearbox.png",alt:"Transmission",class:"spec-icon"},null,-1)),e("span",null,a(t.TransmissionString),1)])]),e("div",G,[e("div",H,a(t.monthly_price_currency==="USD"?"$":"LKR ")+" "+a((t.monthly_price||0).toLocaleString()),1),s[10]||(s[10]=e("span",{class:"view-details"},[y(" View Details "),e("img",{src:"/images/Vector.png",alt:"→",class:"arrow-icon_1 ps-2"})],-1))])])]}),_:2},1032,["href"]))),128))]))]),_:1}),e("div",J,[e("button",{onClick:s[4]||(s[4]=(...t)=>i.prevPage&&i.prevPage(...t)),disabled:r.page===0},s[11]||(s[11]=[e("i",{class:"fas fa-chevron-left"},null,-1)]),8,K),e("button",{onClick:s[5]||(s[5]=(...t)=>i.nextPage&&i.nextPage(...t)),disabled:(r.page+1)*i.perPage>=i.filtered.length},s[12]||(s[12]=[e("i",{class:"fas fa-chevron-right"},null,-1)]),8,W)])])):_("",!0)}const Z=L(S,[["render",q],["__scopeId","data-v-e83cf57b"]]);export{Z as default};
