import{L as A,S as b,M as y,o as i,i as l,f as e,j as u,P as g,G as c,H as h,x as E,E as o,t as f,g as T,w as C,U as S,J as _,Q as x,R as N}from"./index-Dluosi3b.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";const O={components:{Link:A},data(){return{index:"",form:{manufacture:0,model:0,chassis_no:0,year:0,rate:0,engine:0,engine:0,lot_no:0,au_date:0,page:1},currentPage:1,perPage:10}},computed:{paginatedStats(){const a=(this.currentPage-1)*this.perPage;return this.$page.props.vehicleStatsList.slice(a,a+this.perPage)},totalPages(){return Math.ceil(this.$page.props.vehicleStatsList.length/this.perPage)},totalItems(){return this.$page.props.vehicleStatsList.length},firstItem(){return(this.currentPage-1)*this.perPage+1},lastItem(){return Math.min(this.currentPage*this.perPage,this.totalItems)},visiblePageNumbers(){const a=this.totalPages,s=this.currentPage,m=3;let v=Math.max(1,s-Math.floor(m/2)),r=v+m-1;r>a&&(r=a,v=Math.max(1,a-m+1));const d=[];for(let p=v;p<=r;p++)d.push(p);return d}},mounted(){console.log(this.$page.props.details),this.form.manufacture=this.$page.props.details.MARKA_NAME,this.form.model=this.$page.props.details.MODEL_NAME,this.form.year=this.$page.props.details.YEAR,this.form.rate=this.$page.props.details.RATE,this.setQueryData(),this.$inertia.reload({method:"POST",data:{_method:"GET",...this.form,manufacture:this.$page.props.details.MARKA_NAME,model:this.$page.props.details.MODEL_NAME,rate:this.$page.props.details.RATE},onSuccess:()=>{this.setQueryData()}})},methods:{statusColorClass(a){return a=="SOLD"?"bg-danger text-white":a=="NOT SOLD"?"bg-success text-white":"text-dark"},resetFilter(){this.form={manufacture:0,model:0,chassis_no:0,year:0,rate:0,engine:0,page:1}},setQueryData(){this.form.manufacture=this.$page.props.requestQuery.manufacturer??this.$page.props.details.MARKA_NAME,this.form.model=this.$page.props.requestQuery.model??this.$page.props.details.MODEL_NAME,this.form.year=this.$page.props.requestQuery.year??this.$page.props.details.YEAR,this.form.chassis_no=this.$page.props.requestQuery.chassis_no??0,this.form.engine=this.$page.props.requestQuery.engine??0,this.form.rate=this.$page.props.requestQuery.rate??0,this.form.page=this.$page.props.requestQuery.page??0,this.form.engine=this.$page.props.requestQuery.engine??0,this.form.lot_no=this.$page.props.requestQuery.lot_no??0,this.form.au_date=this.$page.props.requestQuery.au_date??0},onChangeField(a){this.currentPage=1,this.$page.props.requestQuery.year!=this.form.year&&(this.form.chassis_no=0,this.form.rate=0),this.$inertia.reload({method:"POST",data:{_method:"GET",...this.form},onSuccess:()=>{this.setQueryData()}})},changePage(a){a<1||a>this.totalPages||(this.currentPage=a)},goToStat(a){const s=route("auction.stat",{id:a.ID,model:this.$root.stringToSlug(a.MARKA_NAME),slug:this.$root.stringToSlug(a.MARKA_NAME)+"-"+this.$root.stringToSlug(a.MODEL_NAME)});this.$page.props.logged_customer?b.Inertia.visit(s):b.Inertia.visit(route("user.login",{redirect:s}))}}},n=a=>(x("data-v-815d31ca"),a=a(),N(),a),w={key:0,class:"container-fluid px-3 px-md-5 section"},k={class:"row border py-4 rounded shadow-sm"},M={class:"col-md-4"},D=n(()=>e("option",{value:"0",selected:""},"SELECT YEAR",-1)),L=["value"],R={class:"col-md-4"},U=n(()=>e("option",{value:"0",selected:""},"SELECT CHASSIS ID",-1)),G=["value"],I={class:"col-md-4"},V=n(()=>e("option",{value:"0",selected:""},"SELECT CONDITION",-1)),Q=["value"],F={class:"col-md-4"},K=n(()=>e("option",{value:"0",selected:""},"SELECT ENGINE CAPACITY",-1)),Y=["value"],q={class:"col-md-4"},B=n(()=>e("option",{value:"0",selected:""},"SELECT LOT NUMBER",-1)),$=["value"],z={class:"col-md-4"},H=n(()=>e("option",{value:"0",selected:""},"SELECT AUCTION DATE",-1)),j=["value"],Z={class:"my-5"},J={class:"table-responsive"},W={class:"table table-striped border",style:{"font-size":"13px","vertical-align":"middle"}},X=n(()=>e("thead",null,[e("tr",{style:{"vertical-align":"baseline"}},[e("th",{class:"bg-custom text-black",style:{"min-width":"100px"}},"IMAGE"),e("th",{class:"bg-custom text-black",style:{"min-width":"80px"}},"LOT NO"),e("th",{class:"bg-custom text-black",style:{"min-width":"180px"}},"DATE AUCTION"),e("th",{class:"bg-custom text-black",style:{"min-width":"130px"}},"YEAR - CHASSIS ID"),e("th",{class:"bg-custom text-black",style:{"min-width":"180px"}},"ENGINE CAPACITY - EQUIP BOX"),e("th",{class:"bg-custom text-black",style:{"min-width":"130px"}},"MILEAGE(KM)- CONDITION"),e("th",{class:"bg-custom text-black",style:{"min-width":"70px"}},"START"),e("th",{class:"bg-custom text-black",style:{"min-width":"70px"}},"SOLD FOR"),e("th",{class:"bg-custom text-black",style:{"min-width":"80px"}},"STATUS"),e("th",{class:"bg-custom text-black",style:{"min-width":"80px"}},"COLOR")])],-1)),tt=["src"],et={class:"text-danger fw-bold"},at=["href"],st={class:"text-danger fw-bold text-decoration-underline",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#auction","aria-controls":"offcanvasScrolling"},dt={key:0,class:"text-center"},ot=n(()=>e("td",{colspan:"10"}," No results found..",-1)),rt=[ot],it=S('<div class="offcanvas offcanvas-start" data-bs-scroll="true" tabindex="-1" id="auction" aria-labelledby="offcanvasWithBothOptionsLabel" data-v-815d31ca><div class="offcanvas-header" data-v-815d31ca><button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close" data-v-815d31ca></button></div><div class="offcanvas-body" data-v-815d31ca><h6 class="fw-bold" data-v-815d31ca>Exterior Auction Grade</h6><table class="table table-striped mt-5 text-start" style="font-size:12px;" data-v-815d31ca><thead data-v-815d31ca><th class="fw-bold" data-v-815d31ca>Grade</th><th data-v-815d31ca>Details</th></thead><tbody data-v-815d31ca><tr data-v-815d31ca><td data-v-815d31ca>S</td><td data-v-815d31ca>Brand New,</td></tr><tr data-v-815d31ca><td data-v-815d31ca>6-9</td><td data-v-815d31ca>Like new in condition, under 5,000 Km</td></tr><tr data-v-815d31ca><td data-v-815d31ca>5</td><td data-v-815d31ca>Vehicle is like new. All parts are new. No repair needed on vehicle. Normally given to vehicles less than 3 years.</td></tr><tr data-v-815d31ca><td data-v-815d31ca>4.5</td><td data-v-815d31ca>The condition of vehicle is good. Only few scratches or dents as in normal cars </td></tr><tr data-v-815d31ca><td data-v-815d31ca>4 </td><td data-v-815d31ca>The condition of vehicle is good. Only few scratches or dents as in normal cars</td></tr><tr data-v-815d31ca><td data-v-815d31ca>3.5 </td><td data-v-815d31ca>Vehicle has few scratches or dents are visible. This grade is given to vehicle in average condition</td></tr><tr data-v-815d31ca><td data-v-815d31ca>3 </td><td data-v-815d31ca>There are various scratches or dents. Some paints faults</td></tr><tr data-v-815d31ca><td data-v-815d31ca>2 </td><td data-v-815d31ca> Nonstandard car. Badly stained or modified car</td></tr><tr data-v-815d31ca><td data-v-815d31ca>1 </td><td data-v-815d31ca>Inferior car or badly modified car</td></tr><tr data-v-815d31ca><td data-v-815d31ca>RA or R1 </td><td data-v-815d31ca>The vehicle had been in a minor accident but repaired to an acceptable standard </td></tr><tr data-v-815d31ca><td data-v-815d31ca>R or A </td><td data-v-815d31ca>A vehicle which has been in an accident where some parts have been repaired or replaced. </td></tr><tr data-v-815d31ca><td data-v-815d31ca>*** </td><td data-v-815d31ca>Bad Accident</td></tr></tbody></table><h6 class="fw-bold mt-5" data-v-815d31ca>Interior Auction Grade</h6><table class="table table-striped mt-5 text-start" style="font-size:12px;" data-v-815d31ca><thead data-v-815d31ca><th class="fw-bold" data-v-815d31ca>Grade</th><th data-v-815d31ca>Details</th></thead><tbody data-v-815d31ca><tr data-v-815d31ca><td data-v-815d31ca>A</td><td data-v-815d31ca>Like new, no faults</td></tr><tr data-v-815d31ca><td data-v-815d31ca>B</td><td data-v-815d31ca>Clean condition, slightly dirty</td></tr><tr data-v-815d31ca><td data-v-815d31ca>C</td><td data-v-815d31ca>Clean but with cigarette burns</td></tr><tr data-v-815d31ca><td data-v-815d31ca>D</td><td data-v-815d31ca>Dirty or stinky or big rips on seat </td></tr></tbody></table></div></div>',1),lt={class:"d-flex justify-content-between align-items-center mt-3"},nt={class:"text-muted"},ct={class:"pagination mb-0"},ht=["disabled"],ut=["onClick"],gt=["disabled"],pt={key:1,class:"flex items-center justify-center h-96 bg-gray-50"},mt={class:"text-center p-8 rounded-xl shadow-md bg-white"},vt=n(()=>e("h2",{class:"text-2xl font-semibold text-gray-800 mb-4"},"Please log in",-1)),ft=n(()=>e("p",{class:"text-gray-600 mb-6"},"You need to be logged in to view your statistics and insights.",-1)),bt=_(" Login ");function _t(a,s,m,v,r,d){const p=y("Link");return a.$root.getUser()?(i(),l("section",w,[e("div",k,[e("div",M,[u(e("select",{class:"form-select mb-4","aria-label":"Default select example","onUpdate:modelValue":s[0]||(s[0]=t=>r.form.year=t),onChange:s[1]||(s[1]=(...t)=>d.onChangeField&&d.onChangeField(...t))},[D,(i(!0),l(c,null,h(a.$page.props.statsYears,t=>(i(),l("option",{key:t.YEAR,value:t.YEAR},o(t.YEAR),9,L))),128))],544),[[g,r.form.year]])]),e("div",R,[u(e("select",{class:"form-select mb-4","aria-label":"Default select example","onUpdate:modelValue":s[2]||(s[2]=t=>r.form.chassis_no=t),onChange:s[3]||(s[3]=(...t)=>d.onChangeField&&d.onChangeField(...t))},[U,(i(!0),l(c,null,h(a.$page.props.statsChassis,t=>(i(),l("option",{key:t.TAG0,value:t.KUZOV},o(t.KUZOV),9,G))),128))],544),[[g,r.form.chassis_no]])]),e("div",I,[u(e("select",{class:"form-select mb-4","aria-label":"Default select example","onUpdate:modelValue":s[4]||(s[4]=t=>r.form.rate=t),onChange:s[5]||(s[5]=(...t)=>d.onChangeField&&d.onChangeField(...t))},[V,(i(!0),l(c,null,h(a.$page.props.statsConditions,t=>(i(),l("option",{key:t.TAG0,value:t.RATE},o(t.RATE),9,Q))),128))],544),[[g,r.form.rate]])]),e("div",F,[u(e("select",{class:"form-select mb-4","onUpdate:modelValue":s[6]||(s[6]=t=>r.form.engine=t),onChange:s[7]||(s[7]=(...t)=>d.onChangeField&&d.onChangeField(...t))},[K,(i(!0),l(c,null,h(a.$page.props.statsengine,t=>(i(),l("option",{key:t.TAG0,value:t.ENG_V},o(t.ENG_V),9,Y))),128))],544),[[g,r.form.engine]])]),e("div",q,[u(e("select",{class:"form-select mb-4","onUpdate:modelValue":s[8]||(s[8]=t=>r.form.lot_no=t),onChange:s[9]||(s[9]=(...t)=>d.onChangeField&&d.onChangeField(...t))},[B,(i(!0),l(c,null,h(a.$page.props.statsslot,t=>(i(),l("option",{key:t.LOT,value:t.LOT},o(t.LOT),9,$))),128))],544),[[g,r.form.lot_no]])]),e("div",z,[u(e("select",{class:"form-select mb-4","onUpdate:modelValue":s[10]||(s[10]=t=>r.form.au_date=t),onChange:s[11]||(s[11]=(...t)=>d.onChangeField&&d.onChangeField(...t))},[H,(i(!0),l(c,null,h(a.$page.props.statAuDate,t=>(i(),l("option",{key:t.AUCTION_DATE,value:t.AUCTION_DATE},o(t.AUCTION_DATE),9,j))),128))],544),[[g,r.form.au_date]])])]),e("section",Z,[e("div",J,[e("table",W,[X,e("tbody",null,[(i(!0),l(c,null,h(d.paginatedStats,t=>(i(),l("tr",{key:t.ID},[e("td",null,[e("img",{src:t.IMAGES,alt:"",style:{height:"50px"}},null,8,tt)]),e("td",et,[e("a",{href:a.route("auction.stat",{id:t.ID,model:a.$root.stringToSlug(t.MARKA_NAME),slug:a.$root.stringToSlug(t.MARKA_NAME)+"-"+a.$root.stringToSlug(t.MODEL_NAME)}),target:"_blank",class:"text-danger text-decoration-underline"},o(t.LOT),9,at)]),e("td",null,o(t.AUCTION_DATE)+" "+o(t.AUCTION),1),e("td",null,o(t.YEAR)+" - "+o(t.KUZOV)+" "+o(t.GRADE),1),e("td",null,o(t.KPP)+" "+o(t.ENG_V)+"CC - "+o(t.EQUIP),1),e("td",null,[_(o(t.MILEAGE)+"KM ",1),e("span",st,o(t.RATE),1)]),e("td",null,o(t.START)+"¥ ",1),e("td",null,o(t.FINISH)+"¥ ",1),e("td",null,[e("span",{class:f(`${d.statusColorClass(t.STATUS)} p-1 rounded px-2`)},o(t.STATUS==""||!t.STATUS?"-":t.STATUS),3)]),e("td",null,o(t.COLOR),1)]))),128)),this.$page.props.vehicleStatsList.length==0?(i(),l("tr",dt,rt)):E("",!0)])])])]),it,e("div",lt,[e("small",nt," Showing "+o(d.firstItem)+" to "+o(d.lastItem)+" of "+o(d.totalItems)+" results ",1),e("ul",ct,[e("li",{class:f(["page-item",{disabled:r.currentPage===1}])},[e("button",{class:"page-link",onClick:s[12]||(s[12]=t=>d.changePage(r.currentPage-1)),disabled:r.currentPage===1}," Previous ",8,ht)],2),(i(!0),l(c,null,h(d.visiblePageNumbers,t=>(i(),l("li",{class:f(["page-item",{active:t===r.currentPage}]),key:t},[e("button",{class:"page-link",onClick:At=>d.changePage(t)},o(t),9,ut)],2))),128)),e("li",{class:f(["page-item",{disabled:r.currentPage===d.totalPages}])},[e("button",{class:"page-link",onClick:s[13]||(s[13]=t=>d.changePage(r.currentPage+1)),disabled:r.currentPage===d.totalPages}," Next ",8,gt)],2)])])])):(i(),l("section",pt,[e("div",mt,[vt,ft,T(p,{href:a.route("user.login",{redirect:a.$page.url}),class:"btn btn-primary"},{default:C(()=>[bt]),_:1},8,["href"])])]))}const Tt=P(O,[["render",_t],["__scopeId","data-v-815d31ca"]]);export{Tt as default};
