import{d,J as l,e as h,o as g,w as c,f as o,B as b,k as v,K as C,E as u,g as n,F as V}from"./index-Cq6CXwRA.js";import{S as y,A as x}from"./AppLayout-BG4Jp0tq.js";import{F as I}from"./FileInputComponent-CiqSnrrK.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-D2OW0BUk.js";const w={components:{Link:d.Link,AppLayout:x,FileInputComponent:I,SelectInputComponentVue:y},props:{ourcustomer:{type:Object,default:null},manufacture:{type:Array,default:()=>[]},model:{type:Array,default:()=>[]}},data(){return{form:d.useForm({id:"",customer_name:"",manufacture_name:"",model:"",status:"1",customer_image:""})}},mounted(){this.ourcustomer&&(this.form.id=this.ourcustomer.id,this.form.customer_name=this.ourcustomer.customer_name,this.form.manufacture_name=this.ourcustomer.manufacture_id,this.form.model=this.ourcustomer.vehicle_model_id,this.form.status=String(this.ourcustomer.status??"1"))},computed:{Customer_Image(){if(this.ourcustomer&&this.ourcustomer.media&&this.ourcustomer.media.length>0){const r=this.ourcustomer.media.find(e=>{var m;return((m=e.custom_properties)==null?void 0:m.type)==="ourcustomer_main"});return r?r.original_url:""}return""}},methods:{getModels(){this.$inertia.reload({method:"POST",data:{_method:"GET",manufacture_id:this.form.manufacture_name}})},submit(){const r=this.ourcustomer?route("ourcustomer.update"):route("ourcustomer.store");this.form.post(r,{onSuccess:()=>{this.$root.showMessage("success",'<span class="text-success">Success</span><br/>',this.ourcustomer?"Customer updated successfully!":"Customer created successfully!")},onError:()=>{this.$root.showMessage("error",'<span class="text-danger">Error</span><br>',"Something went wrong! ")}})}}},M={class:"row"},k={class:"card mb-4"},A={class:"card-body"},L={class:"row"},U={class:"mb-3 col-md-6"},F={class:"text-danger"},E={class:"mb-3 col-md-6"},O={class:"text-danger"},B={class:"mb-3 col-md-6"},N={class:"text-danger"},T={class:"mb-3 col-md-6"},P={class:"mb-3 col-md-6"},D={class:"text-danger"},j={class:"mt-2"},q=["disabled"];function G(r,e,m,J,s,a){const i=l("SelectInputComponentVue"),f=l("FileInputComponent"),p=l("Link"),_=l("AppLayout");return g(),h(_,null,{default:c(()=>[o("div",M,[o("div",k,[e[10]||(e[10]=o("div",{class:"card-header pb-0"},[o("h5",null,"Our Customers"),o("p",null,"Manage Our Customers.")],-1)),e[11]||(e[11]=o("hr",null,null,-1)),o("div",A,[o("form",{id:"formOurCustomer",onSubmit:e[5]||(e[5]=b((...t)=>a.submit&&a.submit(...t),["prevent"]))},[o("div",L,[o("div",U,[e[6]||(e[6]=o("label",{for:"customer_name",class:"form-label"},"Customer Name",-1)),v(o("input",{class:"form-control",type:"text",id:"customer_name",name:"customer_name","onUpdate:modelValue":e[0]||(e[0]=t=>s.form.customer_name=t)},null,512),[[C,s.form.customer_name]]),o("div",F,u(s.form.errors.customer_name),1)]),o("div",E,[n(i,{class:"w-100",id:"manufacture_name",label:"Purchased Vehicle Manufacture",modelValue:s.form.manufacture_name,"onUpdate:modelValue":e[1]||(e[1]=t=>s.form.manufacture_name=t),options:m.manufacture,onChange:a.getModels},null,8,["modelValue","options","onChange"]),o("div",O,u(s.form.errors.manufacture_name),1)]),o("div",B,[n(i,{class:"w-100",id:"model",label:"Purchased Vehicle Model",modelValue:s.form.model,"onUpdate:modelValue":e[2]||(e[2]=t=>s.form.model=t),options:m.model},null,8,["modelValue","options"]),o("div",N,u(s.form.errors.model),1)]),o("div",T,[n(i,{id:"status",label:"Status",error:s.form.errors.status,options:[{id:"1",name:"Active"},{id:"0",name:"Inactive"}],modelValue:s.form.status,"onUpdate:modelValue":e[3]||(e[3]=t=>s.form.status=t)},null,8,["error","modelValue"])]),o("div",P,[e[7]||(e[7]=o("label",{for:"customer_image",class:"form-label me-3"},"Customer Image",-1)),e[8]||(e[8]=o("br",null,null,-1)),n(f,{isRequired:!1,id:"customer_image",prvImage:a.Customer_Image,modelValue:s.form.customer_image,"onUpdate:modelValue":e[4]||(e[4]=t=>s.form.customer_image=t)},null,8,["prvImage","modelValue"]),o("div",D,u(s.form.errors.customer_image),1)])]),o("div",j,[o("button",{type:"submit",class:"btn btn-main me-2",disabled:s.form.processing},u(m.ourcustomer?"Update":"Save"),9,q),n(p,{class:"btn btn-outline-danger",href:r.route("ourcustomer.index")},{default:c(()=>e[9]||(e[9]=[V(" Cancel ")])),_:1,__:[9]},8,["href"])])],32)])])])]),_:1})}const W=S(w,[["render",G]]);export{W as default};
