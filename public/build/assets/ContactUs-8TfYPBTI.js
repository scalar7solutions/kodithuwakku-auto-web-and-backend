import{C as d,a0 as H,p as V,R as M,U as Y,S as B,a1 as W,a2 as z,i as q,a3 as U,a4 as F,a5 as G,a6 as Q,a7 as J,t as x,P as $,e as X,o as P,a8 as Z,d as ee,J as te,j as oe,f as i,g as re,k as u,K as f,M as R,N as O,x as ne,E as ae,B as se}from"./index-CgzAhKMx.js";import{S as L}from"./sweetalert2.all-DRdOQDYZ.js";import{i as ie,r as le}from"./app-DQpyzCvN.js";import{_ as ce}from"./_plugin-vue_export-helper-DlAUqK2U.js";function ue(e,t={}){const n=t.head||ie();if(n)return n.ssr?n.push(e,t):pe(n,e,t)}function pe(e,t,n={}){const a=d(!1),o=d({});H(()=>{o.value=a.value?{}:le(t)});const r=e.push(o.value,n);return V(o,s=>{r.patch(s)}),W()&&(M(()=>{r.dispose()}),Y(()=>{a.value=!0}),B(()=>{a.value=!1})),r}function m(e,...t){z(`[vue-recaptcha]: ${e}`,...t)}function E(e,t){if(!e)throw m(t),new Error(`Invariant violation: ${t}`)}const j="vue-recaptcha-context";function A(){const e=q(j);if(!e)throw m("You may forget to `use` vue-recaptcha plugin"),new Error("useRecaptcha() is called without provider.");return e}function de(){return A().proxy}function fe(){const e=A();return E(e.options.v2SiteKey,"Your config is not compatible with recaptcha v2, please provide v2SiteKey"),e.options.v2SiteKey}function me(e){var t;return E(e.v2SiteKey||e.v3SiteKey,"You didn't pass v2SiteKey or v3SiteKey to plugin, which may be a mistake"),{...e,loaderOptions:{...e.loaderOptions,params:{...(t=e.loaderOptions)==null?void 0:t.params,render:e.v3SiteKey??"explicit"}}}}function ve(){const e={};return e.promise=new Promise((t,n)=>{e.resolve=t,e.reject=n}),e}function S(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null||Symbol.iterator in e?!1:Symbol.toStringTag in e?Object.prototype.toString.call(e)==="[object Module]":!0}function k(e,t,n=".",a){if(!S(t))return k(e,{},n,a);const o=Object.assign({},t);for(const r in e){if(r==="__proto__"||r==="constructor")continue;const l=e[r];l!=null&&(a&&a(o,r,l,n)||(Array.isArray(l)&&Array.isArray(o[r])?o[r]=[...l,...o[r]]:S(l)&&S(o[r])?o[r]=k(l,o[r],(n?`${n}.`:"")+r.toString(),a):o[r]=l))}return o}function he(e){return(...t)=>t.reduce((n,a)=>k(n,a,"",e),{})}const ye=he();function ge(e){return t=>e(we(t))}function we(e){return{...e,recaptchaApiURL:e.recaptchaApiURL??(e.useRecaptchaNet?"https://www.recaptcha.net/recaptcha/api.js":"https://www.google.com/recaptcha/api.js")}}const w=ve(),y="__vueRecaptchaLoaded";typeof window<"u"&&(window[y]=()=>{w.resolve()});function be(e){return new URLSearchParams(xe(e)).toString()}function xe(e){const t=ye(e,{onload:y,render:"explicit"});return t.render==="onload"&&(m("passing `onload` as `render` param is not allowed"),t.render="explicit"),t.onload!==y&&(m("passing `onload` param with other value is not allowed"),t.onload=y),Se(t)}function Se(e){return Object.entries(e).filter(t=>typeof t[1]=="string")}function _e(){if(typeof window>"u")return!1;const e=Object.hasOwn(window,"grecaptcha")&&Object.hasOwn(window.grecaptcha,"execute");return e&&w.resolve(),e}function ke(e,t){function n(){E(e.value,"ReCAPTCHA is not loaded")}async function a(){await w.promise,e.value=!0}return{async render(o,r){return await a(),t().render(o,r)},reset(o){typeof o>"u"||(n(),t().reset(o))},async execute(o,r){if(!(typeof o>"u"))return await a(),t().execute(o,r)}}}function Ve(e,{getRecaptcha:t=()=>window.grecaptcha}={}){return{install(n,a){const o=d(!1);async function r(){await w.promise,o.value=!0}r().catch(s=>m("fail to load reCAPTCHA script",s)),_e();const l=me(a);n.provide(j,{isReady:o,scriptInjected:!1,proxy:ke(o,t),useScriptProvider:e(l.loaderOptions),options:l})}}}const Ee=ge(e=>()=>{ue({link:[{key:"vue-recaptcha-google",rel:"preconnect",href:e.useRecaptchaNet?"https://www.recaptcha.net":"https://www.google.com"},{key:"vue-recaptcha-gstatic",rel:"preconnect",href:"https://www.gstatic.com",crossorigin:""}],script:[{key:"vue-recaptcha",src:`${e.recaptchaApiURL}?${be(e.params)}`,async:!0,defer:!0,nonce:e.nonce}]})});function Ce(e){return Q()?(J(e),!0):!1}function _(){const e=new Set,t=o=>{e.delete(o)};return{on:o=>{e.add(o);const r=()=>t(o);return Ce(r),{off:r}},off:t,trigger:(...o)=>Promise.all(Array.from(e).map(r=>r(...o)))}}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Re=()=>{};function Oe(...e){if(e.length!==1)return U(...e);const t=e[0];return typeof t=="function"?F(G(()=>({get:t,set:Re}))):d(t)}function I(e,t,n){return V(e,(o,r,l)=>{o&&t(o,r,l)},{...n,once:!1})}var g=(e=>(e.Init="init",e.Verified="verified",e.Expired="expired",e.Error="error",e))(g||{});function Le({root:e=d(),options:t={}}){const n=fe(),a=d(),o=de(),r=_(),l=_(),s=_(),v=Oe(e),p=d("init");return I(v,async b=>{const h=await o.render(b,{...t,sitekey:n,callback:r.trigger,"expired-callback":l.trigger,"error-callback":s.trigger});a.value=h}),r.on(()=>{p.value="verified"}),l.on(()=>{p.value="expired"}),s.on(()=>{p.value="error"}),{root:v,widgetID:a,execute(){typeof a.value<"u"&&o.execute(a.value)},reset(){p.value="init",typeof a.value<"u"&&o.reset(a.value)},state:p,onVerify:r.on,onExpired:l.on,onError:s.on}}function Ue(e,t,n){const{root:a,state:o,widgetID:r,onError:l,onExpired:s,onVerify:v,reset:p,execute:b}=Le({options:e||{}}),h=x(()=>o.value===g.Expired),N=x(()=>o.value===g.Error),D=x(()=>o.value===g.Verified);return I(r,c=>{n("load",c),n("update:widgetId",c)}),V(t,(c,T)=>{!c&&T&&!h.value&&C()}),s(()=>{n("update:modelValue",null),n("expired",r.value)}),l(c=>{n("error",c)}),v(c=>{n("success",c),n("update:modelValue",c)}),{root:a,widgetID:r,state:o,isError:N,isExpired:h,isVerified:D,reset:C,execute:b};function C(){p(),K()}function K(){n("update:modelValue",null)}}const Pe=$({__name:"Checkbox",props:{as:{default:"div"},widgetId:{},size:{default:"normal"},theme:{default:"light"},tabindex:{},modelValue:{}},emits:["load","error","expired","success","update:widgetId","update:modelValue"],setup(e,{emit:t}){const n=e,a=t,{root:o}=Ue({theme:n.theme,size:n.size,tabindex:n.tabindex},U(n,"modelValue"),a);return(r,l)=>(P(),X(Z(r.as),{ref_key:"root",ref:o},null,512))}});Ve(Ee);const je={components:{Checkbox:Pe},data(){return{form:ee.useForm({vehicle_name:this.$page.props.vehicle.manufacture.title+" "+this.$page.props.vehicle.vehicle_model.title+" "+this.$page.props.vehicle.ex_color.name,vehicle_url:route("product",{model:this.$root.stringToSlug(this.$page.props.vehicle.manufacture.title),slug:this.$root.stringToSlug(this.$page.props.vehicle.manufacture.title)+"-"+this.$root.stringToSlug(this.$page.props.vehicle.vehicle_model.title),id:this.$page.props.vehicle.id}),vehicle_id:this.$page.props.vehicle.id,stock_type:"local",name:"",email:"",mobile:"",purchase_time:"",payment_method:"",address:"",message:"",capchaResponse:null})}},methods:{submitEnquiry(){this.form.capchaResponse&&this.form.post(route("submit-inquiry"),{preserveScroll:!0,onSuccess:()=>{console.log("sved"),this.form.reset("name","email","mobile","purchase_time","payment_method","address","message"),L.fire({icon:"success",title:"Inquiry Submitted Successfully",showConfirmButton:!1,timer:1500})},onError:()=>{console.log("error"),L.fire({icon:"error",title:"Somthing went wrong! Please try again later",showConfirmButton:!1,timer:1500})}})}},computed:{capchaVerifyStyles(){return this.form.capchaResponse?"text-success":"text-danger"}}},Ae={class:"container mt-5"},Ie={class:"col-md-6"},Ne={class:"col-md-6"},De={class:"col-6"},Ke={class:"col-6"},Te={class:"col-12"},He={class:"col-12"},Me={class:"col-12"},Ye={class:"input-group"},Be={class:"col-12"},We={class:"input-group"};function ze(e,t,n,a,o,r){const l=te("Checkbox");return P(),oe("section",Ae,[i("form",{class:"row g-3",onSubmit:t[9]||(t[9]=se((...s)=>r.submitEnquiry&&r.submitEnquiry(...s),["prevent"]))},[i("div",Ie,[u(i("input",{type:"text",class:"form-control rounded-0","onUpdate:modelValue":t[0]||(t[0]=s=>o.form.vehicle_name=s),disabled:""},null,512),[[f,o.form.vehicle_name]])]),i("div",Ne,[u(i("input",{type:"text",class:"form-control",placeholder:"Your Name","onUpdate:modelValue":t[1]||(t[1]=s=>o.form.name=s)},null,512),[[f,o.form.name]])]),i("div",De,[u(i("input",{type:"email",class:"form-control",placeholder:"Your Email","onUpdate:modelValue":t[2]||(t[2]=s=>o.form.email=s)},null,512),[[f,o.form.email]])]),i("div",Ke,[u(i("input",{type:"text",class:"form-control",placeholder:"Your Mobile Number","onUpdate:modelValue":t[3]||(t[3]=s=>o.form.mobile=s)},null,512),[[f,o.form.mobile]])]),i("div",Te,[u(i("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":t[4]||(t[4]=s=>o.form.purchase_time=s)},t[10]||(t[10]=[O('<option value="" selected data-v-5c7adeb2>When Are You Hoping To Purchase ?</option><option value="Immediately" data-v-5c7adeb2>Immediately</option><option value="Next Week" data-v-5c7adeb2>Next Week</option><option value="Two Weeks" data-v-5c7adeb2>Two Weeks</option><option value="One Month" data-v-5c7adeb2>One Month</option><option value="Not Sure" data-v-5c7adeb2>Not Sure</option>',6)]),512),[[R,o.form.purchase_time]])]),i("div",He,[u(i("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":t[5]||(t[5]=s=>o.form.payment_method=s)},t[11]||(t[11]=[O('<option value="" selected data-v-5c7adeb2>Payment Method</option><option value="Full Lease" data-v-5c7adeb2>Full Lease</option><option value="Half Lease" data-v-5c7adeb2>Half Lease</option><option value="Cash" data-v-5c7adeb2>Cash</option><option value="Loan" data-v-5c7adeb2>Loan</option><option value="Half Loan" data-v-5c7adeb2>Half Loan</option>',6)]),512),[[R,o.form.payment_method]])]),i("div",Me,[i("div",Ye,[u(i("textarea",{class:"form-control","aria-label":"With textarea",placeholder:"Your Address","onUpdate:modelValue":t[6]||(t[6]=s=>o.form.address=s)},null,512),[[f,o.form.address]])])]),i("div",Be,[i("div",We,[u(i("textarea",{class:"form-control","aria-label":"With textarea",placeholder:"Your Message",rows:"3","onUpdate:modelValue":t[7]||(t[7]=s=>o.form.message=s)},null,512),[[f,o.form.message]])])]),re(l,{as:"div",modelValue:o.form.capchaResponse,"onUpdate:modelValue":t[8]||(t[8]=s=>o.form.capchaResponse=s)},null,8,["modelValue"]),i("div",{class:ne(r.capchaVerifyStyles)},ae(o.form.capchaResponse?"Verified":"Please click the captcha"),3),t[12]||(t[12]=i("br",null,null,-1)),t[13]||(t[13]=i("div",{class:"col-12"},[i("button",{type:"reset",class:"btn btn-dark rounded-0 mx-1"},"RESET"),i("button",{type:"submit",class:"btn btn-primary rounded-0 mx-1"},"SUBMIT ENQUIRY")],-1))],32)])}const Je=ce(je,[["render",ze],["__scopeId","data-v-5c7adeb2"]]);export{Je as default};
