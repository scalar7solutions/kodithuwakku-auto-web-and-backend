import{L as A,F as k,S as E,M as f,o as _,e as M,w as b,f as e,A as D,g as n,j as d,N as c,E as a,i as p,H as y,C as L,G as V,x as U,J as x,Q as O,R as F}from"./index-Dluosi3b.js";import{A as j,S as N}from"./AppLayout-COeyb3FR.js";import{F as R}from"./FileInputComponent-Dvzru4zD.js";import{E as T}from"./Editor-DmQygy4B.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";const B={components:{Link:A,AppLayout:j,FileInputComponent:R,SelectInputComponentVue:N,Editor:T},props:{errors:Object,allRoles:Object,backendUser:Object,branches:Array,features:Array,service_types:Object,vehicle_manufacture:Object,vehicle:Object,type:Object,manufacture:Object,color:Object,model:Object,countries:Array},data(){return{apiKey:"vw4ubmg1a3lka0446gbr2zl6hoyieci6cv2wpw8czi7giive",form:k({id:"",vehicle_type:"",manufacture_name:"",model:"",seo_url:"",ex_color:"",in_color:"",features:[],transmission:"",year:"",chassis_no:"",condition:"",seats:"",doors:"",passengers:"",engine_capacity:"",mileage:"",fuel_type:"",drive_type:"",auction_grade:"",interior_condition:"",availability:"",editorContent:"",featured:"",latest:"",status:"",vehicle_image:"",countries:[],price:"",used_status:"",monthly_price:"",initial_payment:"",uploaded_Images:[]})}},mounted(){this.vehicle&&(this.form.id=this.vehicle.id,this.form.vehicle_type=this.vehicle.vehicle_type_id,this.form.manufacture_name=this.vehicle.manufacture_id,this.form.model=this.vehicle.vehicle_model_id,this.form.seo_url=this.vehicle.seo_url,this.form.ex_color=this.vehicle.ex_color,this.form.in_color=this.vehicle.in_color,this.form.features=this.vehicle.FeaturesList??[],this.form.transmission=this.vehicle.transmission,this.form.year=this.vehicle.year,this.form.chassis_no=this.vehicle.chassis_no,this.form.condition=this.vehicle.condition,this.form.seats=this.vehicle.seats,this.form.doors=this.vehicle.doors,this.form.passengers=this.vehicle.passengers,this.form.engine_capacity=this.vehicle.engine_capacity,this.form.mileage=this.vehicle.mileage,this.form.fuel_type=this.vehicle.fuel_type,this.form.drive_type=this.vehicle.drive_type,this.form.auction_grade=this.vehicle.auction_grade,this.form.interior_condition=this.vehicle.interior_condition,this.form.availability=this.vehicle.availability,this.form.editorContent=this.vehicle.editorContent,this.form.featured=this.vehicle.featured,this.form.latest=this.vehicle.latest,this.form.status=this.vehicle.status,this.form.countries=this.vehicle.countries||[],this.form.price=this.vehicle.price,this.form.used_status=this.vehicle.used_status,this.form.monthly_price=this.vehicle.monthly_price,this.form.initial_payment=this.vehicle.initial_payment,this.vehicle.media&&this.vehicle.media.length>0&&this.vehicle.media.filter(l=>{var s;return((s=l.custom_properties)==null?void 0:s.type)==="vehicle_gallery"}).forEach(l=>{this.form.uploaded_Images.push({file:l,preview:l.original_url})}))},computed:{countriesOptions(){return this.countries.map(l=>({id:l.id,name:l.name}))},Vehicle_Image(){if(this.vehicle&&this.vehicle.media.length>0){const l=this.vehicle.media.find(s=>{var r;return((r=s.custom_properties)==null?void 0:r.type)==="vehicle_main"});return l?l.original_url:""}return""}},methods:{handleImageUpload(l){const s=Array.from(l.target.files);console.log(s),s.forEach(r=>{if(r&&r.type.startsWith("image/")){const v=new FileReader;v.onload=o=>{this.form.uploaded_Images.push({file:r,preview:o.target.result})},v.readAsDataURL(r)}else console.error("Selected file is not an image:",r)})},removeUploadedImage(l){const s=this.form.uploaded_Images[l];console.log(s.file.original_url),s.file.original_url&&s.preview?E.Inertia.post(route("vehicle.image.remove"),{imageUrl:s.preview,product_id:this.vehicle.id},{onSuccess:()=>{this.form.uploaded_Images.splice(l,1)},onError:r=>{console.error("Error deleting image:",r)}}):this.form.uploaded_Images.splice(l,1)},getModels(){this.$inertia.reload({method:"POST",data:{_method:"GET",manufacture_id:this.form.manufacture_name}})},submit(){this.form.post(this.vehicle?route("vehicle.update"):route("vehicle.store"),{onSuccess:()=>{this.form.reset(),this.$root.showMessage("success",'<span class="text-success">Success</span><br/>',"A Record Was Created Successfully! ")},onError:()=>{this.form.reset("password","password_confirmation"),this.$root.showMessage("error",'<span class="text-danger">Error</span><br>',"Something went wrong! ")}})}}},t=l=>(O("data-v-ebc37015"),l=l(),F(),l),G={class:"row"},H={class:"card mb-4"},q=t(()=>e("div",{class:"card-header pb-0"},[e("h5",null,"Vehicle Manufacture"),e("p",null,"Manage Vehicle Manufacture.")],-1)),z=t(()=>e("hr",null,null,-1)),K={class:"card-body"},W={class:"row"},J={class:"mb-3 col-md-6"},Q={class:"mb-3 col-md-6"},Y={class:"mb-3 col-md-6"},X={class:"mb-3 col-md-6"},Z={class:"mb-3 col-md-6"},$={class:"mb-3 col-md-6"},ee=t(()=>e("label",{for:"price",class:"form-label"},"Price",-1)),oe={class:"input-group"},se=t(()=>e("span",{class:"input-group-text"},"$ USD",-1)),ie={class:"text-danger"},te={class:"mb-3 col-md-12"},le=t(()=>e("label",{class:"form-label"},"Features",-1)),re={class:"features-container"},ne=["id","value"],ae=["for"],me={class:"mb-3 col-md-6"},de=t(()=>e("label",{for:"year",class:"form-label"},"Year",-1)),ce={class:"text-danger"},ue={class:"mb-3 col-md-6"},_e=t(()=>e("label",{for:"chassis_no",class:"form-label"},"Chassis No",-1)),pe={class:"text-danger"},fe={class:"mb-3 col-md-6"},he=t(()=>e("label",{for:"condition",class:"form-label"},"Condition",-1)),ve={class:"text-danger"},ge={class:"mb-3 col-md-6"},be=t(()=>e("label",{for:"seats",class:"form-label"},"Seats",-1)),ye={class:"text-danger"},Ve={class:"mb-3 col-md-6"},Ue=t(()=>e("label",{for:"doors",class:"form-label"},"Doors",-1)),xe={class:"text-danger"},Ie={class:"mb-3 col-md-6"},we=t(()=>e("label",{for:"passengers",class:"form-label"},"Passengers",-1)),Se={class:"text-danger"},Ce={class:"mb-3 col-md-6"},Ae=t(()=>e("label",{for:"engine_capacity",class:"form-label"},"Engine Capacity",-1)),ke={class:"text-danger"},Ee={key:0,class:"mb-3 col-md-6"},Me=t(()=>e("label",{for:"mileage",class:"form-label"},"Mileage",-1)),De={class:"text-danger"},Le={class:"mb-3 col-md-6"},Oe=t(()=>e("label",{for:"auction_grade",class:"form-label"},"Auction Grade",-1)),Fe={class:"text-danger"},je={class:"mb-3 col-md-6"},Ne=t(()=>e("label",{for:"interior_condition",class:"form-label"},"Interior Condition",-1)),Re={class:"text-danger"},Te={class:"mb-3 col-md-6"},Pe=t(()=>e("label",{for:"monthly_price",class:"form-label"},"Monthly Price",-1)),Be={class:"input-group"},Ge=t(()=>e("span",{class:"input-group-text"},"USD",-1)),He={class:"text-danger"},qe={class:"mb-3 col-md-6"},ze=t(()=>e("label",{for:"initial_payment",class:"form-label"},"Initial Payment",-1)),Ke={class:"input-group"},We=t(()=>e("span",{class:"input-group-text"},"USD",-1)),Je={class:"text-danger"},Qe={class:"mb-3 col-md-11"},Ye={class:"mb-3 col-md-6"},Xe={class:"mb-3 col-md-12"},Ze={class:"row"},$e={class:"col-md-6"},eo=t(()=>e("label",{for:"image",class:"form-label me-3"},"Main Image",-1)),oo=t(()=>e("br",null,null,-1)),so={class:"text-danger"},io={class:"col-md-6"},to={class:"mb-4",style:{padding:"0.5rem 4%"}},lo=t(()=>e("h6",null,"Gallery Images",-1)),ro={class:"upload-button"},no={class:"btn btn-outline-primary"},ao=x(" Upload Images "),mo={key:0,class:"image-upload-container mt-2"},co={class:"image-box"},uo=["src"],_o=["onClick"],po=t(()=>e("i",{class:"fas fa-times"},null,-1)),fo=[po],ho={class:"mt-2"},vo=["disabled"],go=x("Cancel");function bo(l,s,r,v,o,u){const m=f("SelectInputComponentVue"),I=f("Editor"),w=f("FileInputComponent"),S=f("Link"),C=f("AppLayout");return _(),M(C,null,{default:b(()=>[e("div",G,[e("div",H,[q,z,e("div",K,[e("form",{id:"formAccountSettings",onSubmit:s[31]||(s[31]=D((...i)=>u.submit&&u.submit(...i),["prevent"]))},[e("div",W,[e("div",J,[n(m,{class:"w-100",id:"vehicle_type",label:"Vehicle type",modelValue:o.form.vehicle_type,"onUpdate:modelValue":s[0]||(s[0]=i=>o.form.vehicle_type=i),options:r.type},null,8,["modelValue","options"])]),e("div",Q,[n(m,{class:"w-100",id:"manufacture_name",label:"Manufacture Name",modelValue:o.form.manufacture_name,"onUpdate:modelValue":s[1]||(s[1]=i=>o.form.manufacture_name=i),options:r.manufacture,onChange:u.getModels},null,8,["modelValue","options","onChange"])]),e("div",Y,[n(m,{class:"w-100",id:"model",label:"Model",modelValue:o.form.model,"onUpdate:modelValue":s[2]||(s[2]=i=>o.form.model=i),options:r.model},null,8,["modelValue","options"])]),e("div",X,[n(m,{class:"w-100",id:"ex_color",label:"Ex color",modelValue:o.form.ex_color,"onUpdate:modelValue":s[3]||(s[3]=i=>o.form.ex_color=i),options:r.color},null,8,["modelValue","options"])]),e("div",Z,[n(m,{class:"w-100",id:"in_color",label:"In color",modelValue:o.form.in_color,"onUpdate:modelValue":s[4]||(s[4]=i=>o.form.in_color=i),options:r.color},null,8,["modelValue","options"])]),e("div",$,[ee,e("div",oe,[se,d(e("input",{class:"form-control",type:"text",id:"price",name:"price","onUpdate:modelValue":s[5]||(s[5]=i=>o.form.price=i)},null,512),[[c,o.form.price]])]),e("div",ie,a(o.form.errors.price),1)]),e("div",te,[le,e("div",re,[(_(!0),p(V,null,y(r.features,(i,h)=>(_(),p("div",{key:h,class:"checkbox-container"},[d(e("input",{type:"checkbox",id:"feature-"+i.id,value:i.id,"onUpdate:modelValue":s[6]||(s[6]=g=>o.form.features=g)},null,8,ne),[[L,o.form.features]]),e("label",{for:"feature-"+i.id},a(i.name),9,ae)]))),128))])]),n(m,{id:"transmission",label:"Transmission",error:o.form.errors.transmission,options:[{id:"Auto",name:"Auto"},{id:"Manual",name:"Manual"},{id:"Triptonic",name:"Triptonic"}],modelValue:o.form.transmission,"onUpdate:modelValue":s[7]||(s[7]=i=>o.form.transmission=i)},null,8,["error","modelValue"]),e("div",me,[de,d(e("input",{class:"form-control",type:"number",id:"year",name:"year","onUpdate:modelValue":s[8]||(s[8]=i=>o.form.year=i)},null,512),[[c,o.form.year]]),e("div",ce,a(o.form.errors.year),1)]),e("div",ue,[_e,d(e("input",{class:"form-control",type:"text",id:"chassis_no",name:"chassis_no","onUpdate:modelValue":s[9]||(s[9]=i=>o.form.chassis_no=i)},null,512),[[c,o.form.chassis_no]]),e("div",pe,a(o.form.errors.chassis_no),1)]),e("div",fe,[he,d(e("input",{class:"form-control",type:"text",id:"condition",name:"condition","onUpdate:modelValue":s[10]||(s[10]=i=>o.form.condition=i)},null,512),[[c,o.form.condition]]),e("div",ve,a(o.form.errors.condition),1)]),e("div",ge,[be,d(e("input",{class:"form-control",type:"number",id:"seats",name:"seats","onUpdate:modelValue":s[11]||(s[11]=i=>o.form.seats=i)},null,512),[[c,o.form.seats]]),e("div",ye,a(o.form.errors.seats),1)]),e("div",Ve,[Ue,d(e("input",{class:"form-control",type:"number",id:"doors",name:"doors","onUpdate:modelValue":s[12]||(s[12]=i=>o.form.doors=i)},null,512),[[c,o.form.doors]]),e("div",xe,a(o.form.errors.doors),1)]),e("div",Ie,[we,d(e("input",{class:"form-control",type:"number",id:"passengers",name:"passengers","onUpdate:modelValue":s[13]||(s[13]=i=>o.form.passengers=i)},null,512),[[c,o.form.passengers]]),e("div",Se,a(o.form.errors.passengers),1)]),e("div",Ce,[Ae,d(e("input",{class:"form-control",type:"text",id:"engine_capacity",name:"engine_capacity","onUpdate:modelValue":s[14]||(s[14]=i=>o.form.engine_capacity=i)},null,512),[[c,o.form.engine_capacity]]),e("div",ke,a(o.form.errors.engine_capacity),1)]),n(m,{id:"used_status",label:"Vehicle Status",error:o.form.errors.used_status,options:[{id:"Brand New",name:"Brand New"},{id:"Used",name:"Used"}],modelValue:o.form.used_status,"onUpdate:modelValue":s[15]||(s[15]=i=>o.form.used_status=i)},null,8,["error","modelValue"]),o.form.used_status==="Used"?(_(),p("div",Ee,[Me,d(e("input",{class:"form-control",type:"number",id:"mileage",name:"mileage","onUpdate:modelValue":s[16]||(s[16]=i=>o.form.mileage=i)},null,512),[[c,o.form.mileage]]),e("div",De,a(o.form.errors.mileage),1)])):U("",!0),n(m,{id:"fuel_type",label:"Fuel Type",error:o.form.errors.fuel_type,options:[{id:"Diesel",name:"Diesel"},{id:"Petrol",name:"Petrol"},{id:"Hybrid",name:"Hybrid"},{id:"Electric",name:"Electric"}],modelValue:o.form.fuel_type,"onUpdate:modelValue":s[17]||(s[17]=i=>o.form.fuel_type=i)},null,8,["error","modelValue"]),n(m,{id:"drive_type",label:"Drive Type",error:o.form.errors.drive_type,options:[{id:"Right Side Driving",name:"Right Side Driving"},{id:"Left Side Driving",name:"Left Side Driving"}],modelValue:o.form.drive_type,"onUpdate:modelValue":s[18]||(s[18]=i=>o.form.drive_type=i)},null,8,["error","modelValue"]),e("div",Le,[Oe,d(e("input",{class:"form-control",type:"text",id:"auction_grade",name:"auction_grade","onUpdate:modelValue":s[19]||(s[19]=i=>o.form.auction_grade=i)},null,512),[[c,o.form.auction_grade]]),e("div",Fe,a(o.form.errors.auction_grade),1)]),e("div",je,[Ne,d(e("input",{class:"form-control",type:"text",id:"interior_condition",name:"interior_condition","onUpdate:modelValue":s[20]||(s[20]=i=>o.form.interior_condition=i)},null,512),[[c,o.form.interior_condition]]),e("div",Re,a(o.form.errors.interior_condition),1)]),n(m,{id:"availability",label:"Availability",error:o.form.errors.availability,options:[{id:"Available",name:"Available"},{id:"Arriving",name:"Arriving"},{id:"Sold",name:"Sold"}],modelValue:o.form.availability,"onUpdate:modelValue":s[21]||(s[21]=i=>o.form.availability=i)},null,8,["error","modelValue"]),e("div",Te,[Pe,e("div",Be,[Ge,d(e("input",{class:"form-control",type:"text",id:"monthly_price",name:"monthly_price","onUpdate:modelValue":s[22]||(s[22]=i=>o.form.monthly_price=i)},null,512),[[c,o.form.monthly_price]])]),e("div",He,a(o.form.errors.monthly_price),1)]),e("div",qe,[ze,e("div",Ke,[We,d(e("input",{class:"form-control",type:"text",id:"initial_payment",name:"initial_payment","onUpdate:modelValue":s[23]||(s[23]=i=>o.form.initial_payment=i)},null,512),[[c,o.form.initial_payment]])]),e("div",Je,a(o.form.errors.initial_payment),1)]),e("div",Qe,[n(m,{id:"countries",label:"Countries",modelValue:o.form.countries,"onUpdate:modelValue":s[24]||(s[24]=i=>o.form.countries=i),options:u.countriesOptions,isMultiple:!0,isRequired:!0},null,8,["modelValue","options"])]),e("div",null,[n(I,{modelValue:o.form.editorContent,"onUpdate:modelValue":s[25]||(s[25]=i=>o.form.editorContent=i),"api-key":o.apiKey,init:{plugins:"lists link image table code help wordcount"}},null,8,["modelValue","api-key"])]),e("div",Ye,[e("div",Xe,[e("div",Ze,[e("div",$e,[eo,oo,n(w,{isRequired:!1,id:"vehicle_image",prvImage:u.Vehicle_Image,modelValue:o.form.vehicle_image,"onUpdate:modelValue":s[26]||(s[26]=i=>o.form.vehicle_image=i)},null,8,["prvImage","modelValue"]),e("div",so,a(o.form.errors.vehicle_image),1)]),e("div",io,[e("div",to,[lo,e("div",ro,[e("label",no,[ao,e("input",{type:"file",multiple:"",onChange:s[27]||(s[27]=(...i)=>u.handleImageUpload&&u.handleImageUpload(...i)),hidden:""},null,32)])]),o.form.uploaded_Images.length>0?(_(),p("div",mo,[(_(!0),p(V,null,y(o.form.uploaded_Images,(i,h)=>(_(),p("div",{class:"",key:h},[e("div",co,[e("img",{src:i.preview,alt:"Uploaded Image",class:"img-fluid"},null,8,uo),e("button",{type:"button",class:"remove-btn",onClick:g=>u.removeUploadedImage(h)},fo,8,_o)])]))),128))])):U("",!0)])])])]),n(m,{id:"featured",label:"Is Featured",error:o.form.errors.featured,options:[{id:"1",name:"Enable"},{id:"0",name:"Disable"}],modelValue:o.form.featured,"onUpdate:modelValue":s[28]||(s[28]=i=>o.form.featured=i)},null,8,["error","modelValue"]),n(m,{id:"latest",label:"Is Latest",error:o.form.errors.latest,options:[{id:"1",name:"Enable"},{id:"0",name:"Disable"}],modelValue:o.form.latest,"onUpdate:modelValue":s[29]||(s[29]=i=>o.form.latest=i)},null,8,["error","modelValue"]),n(m,{id:"status",label:"status",error:o.form.errors.status,options:[{id:"1",name:"Active"},{id:"0",name:"Inactive"}],modelValue:o.form.status,"onUpdate:modelValue":s[30]||(s[30]=i=>o.form.status=i)},null,8,["error","modelValue"])])]),e("div",ho,[e("button",{type:"submit",class:"btn btn-main me-2",disabled:o.form.processing},a(r.vehicle?"Update":"Save"),9,vo),n(S,{class:"btn btn-outline-danger",href:l.route("vehicle_manufacture.index")},{default:b(()=>[go]),_:1},8,["href"])])],32)])])])]),_:1})}const wo=P(B,[["render",bo],["__scopeId","data-v-ebc37015"]]);export{wo as default};
