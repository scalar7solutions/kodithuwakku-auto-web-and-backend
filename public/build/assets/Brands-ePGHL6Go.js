import{d as g,J as _,j as l,o,y as u,f as a,x as d,G as b,H as p,e as B,w as k,Z as x,E as m}from"./index-Cq6CXwRA.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";const y={name:"Brands",components:{Link:g.Link},props:{manufactures:{type:Array,default:()=>[]}},data(){return{imageLoaded:{},imageError:{},canScrollPrev:!1,canScrollNext:!0}},computed:{visibleBrands(){return this.manufactures.slice(0,14)}},mounted(){this.initImageState(),this.$nextTick(()=>{this.updateNavButtons()}),window.addEventListener("resize",this.updateNavButtons)},beforeUnmount(){window.removeEventListener("resize",this.updateNavButtons)},watch:{manufactures:{handler(){this.initImageState(),this.$nextTick(()=>{this.updateNavButtons()})},deep:!0}},methods:{initImageState(){this.visibleBrands.forEach(e=>{e.id in this.imageLoaded||(this.imageLoaded[e.id]=!1),e.id in this.imageError||(this.imageError[e.id]=!1)})},brandLogo(e){return e.media&&e.media[0]&&e.media[0].original_url||"/images/brand-placeholder.svg"},markBrandLoaded(e){this.imageLoaded[e]=!0},markBrandError(e){this.imageError[e]=!0},brandInitials(e){return e?e.split(" ").filter(Boolean).map(s=>s[0]).join("").toUpperCase().slice(0,2):""},scrollPrev(){const e=this.$refs.carousel;e&&e.scrollBy({left:-e.clientWidth,behavior:"smooth"})},scrollNext(){const e=this.$refs.carousel;e&&e.scrollBy({left:e.clientWidth,behavior:"smooth"})},onCarouselScroll(){this.updateNavButtons()},updateNavButtons(){const e=this.$refs.carousel;if(!e)return;const{scrollLeft:s,scrollWidth:n,clientWidth:c}=e,i=n-c-1;this.canScrollPrev=s>0,this.canScrollNext=s<i}}},S={class:"buying-essentials-section brandSection"},E={key:0,class:"lease-section container px-3"},N={class:"row align-items-end mb-4 justify-content-between"},w={class:"col-auto d-flex align-items-center gap-2"},C=["disabled"],P=["disabled"],I={class:"brand-carousel-container"},T={class:"brand-track"},z={class:"brand-card-img position-relative"},W={key:0,class:"skeleton-placeholder"},j=["src","alt","onLoad","onError"],D={key:2,class:"initials-fallback"},F={class:"brand-card-text"},G={class:"topicText"};function U(e,s,n,c,i,r){const h=_("Link");return o(),l("section",S,[n.manufactures.length>0?(o(),l("div",E,[a("div",N,[s[5]||(s[5]=a("div",{class:"col"},[a("h2",{class:"headText secondFontStyle fw-semibold"}," Browse by Brand ")],-1)),a("div",w,[a("button",{type:"button",class:d(["nav-btn",{"nav-btn-disabled":!i.canScrollPrev}]),disabled:!i.canScrollPrev,onClick:s[0]||(s[0]=(...t)=>r.scrollPrev&&r.scrollPrev(...t)),"aria-label":"Previous brands"},s[3]||(s[3]=[a("span",{"aria-hidden":"true",class:"nav-icon"},"‹",-1)]),10,C),a("button",{type:"button",class:d(["nav-btn",{"nav-btn-disabled":!i.canScrollNext}]),disabled:!i.canScrollNext,onClick:s[1]||(s[1]=(...t)=>r.scrollNext&&r.scrollNext(...t)),"aria-label":"Next brands"},s[4]||(s[4]=[a("span",{"aria-hidden":"true",class:"nav-icon"},"›",-1)]),10,P)])]),a("div",I,[a("div",{class:"brand-carousel",ref:"carousel",onScroll:s[2]||(s[2]=(...t)=>r.onCarouselScroll&&r.onCarouselScroll(...t))},[a("div",T,[(o(!0),l(b,null,p(r.visibleBrands,(t,v)=>(o(),B(h,{key:t.id,method:"post",as:"button",href:e.route("available"),data:{_method:"GET",brand:t.id},class:"brand-slide text-decoration-none text-reset"},{default:k(()=>[a("div",{class:"brand-card",style:x({animationDelay:`${v*50}ms`})},[a("div",z,[!i.imageLoaded[t.id]&&!i.imageError[t.id]&&r.brandLogo(t)?(o(),l("div",W)):u("",!0),r.brandLogo(t)&&!i.imageError[t.id]?(o(),l("img",{key:1,src:r.brandLogo(t),alt:t.title+" logo",class:d(["imgStyleClass",{"is-loaded":i.imageLoaded[t.id]}]),onLoad:f=>r.markBrandLoaded(t.id),onError:f=>r.markBrandError(t.id)},null,42,j)):(o(),l("div",D,[a("span",null,m(r.brandInitials(t.title)),1)]))]),a("div",F,[a("h5",G,m(t.title),1)])],4)]),_:2},1032,["href","data"]))),128))])],544)])])):u("",!0)])}const H=L(y,[["render",U],["__scopeId","data-v-685fe5a7"]]);export{H as default};
