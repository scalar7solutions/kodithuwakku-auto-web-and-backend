import{j as n,o as l,f as e,x as m,B as p,G as b,H as L,E as r,d as A,J as P,y as _,F as c,g as h,w as v}from"./index-Cq6CXwRA.js";import{_ as y}from"./_plugin-vue_export-helper-DlAUqK2U.js";const M={props:{currentPage:{type:Number,required:!0},lastPage:{type:Number,required:!0},firstItem:{type:Number,required:!0},lastItem:{type:Number,required:!0},total:{type:Number,required:!0}},data(){return{maxVisiblePages:3}},computed:{displayedPages(){const s=this.lastPage,t=this.currentPage,d=Math.floor(this.maxVisiblePages/2);let u=t-d,g=t+d;return u<1&&(u=1,g=Math.min(this.maxVisiblePages,s)),g>s&&(g=s,u=Math.max(1,s-this.maxVisiblePages+1)),Array.from({length:g-u+1},(a,o)=>u+o)}},emits:["goto"],methods:{nextPage(){this.currentPage<this.lastPage&&this.$emit("goto",this.currentPage+1)},previousPage(){this.currentPage>1&&this.$emit("goto",this.currentPage-1)},gotoPage(s){this.$emit("goto",s)}}},E={class:"pagination-area"},C={class:"d-flex justify-items-center justify-content-between"},w={class:"d-none flex-sm-fill d-sm-flex align-items-sm-center justify-content-sm-between"},N={class:"pagination"},k=["onClick"];function x(s,t,d,u,g,a){return l(),n("div",E,[e("nav",C,[e("div",w,[e("div",null,[e("ul",N,[e("li",{class:m(["page-item",{disabled:d.currentPage===1}])},[e("a",{class:"page-link",href:"#",onClick:t[0]||(t[0]=p((...o)=>a.previousPage&&a.previousPage(...o),["prevent"]))},"‹")],2),(l(!0),n(b,null,L(a.displayedPages,o=>(l(),n("li",{key:o,class:m(["page-item",{active:o===d.currentPage}])},[e("a",{class:"page-link",href:"#",onClick:p(f=>a.gotoPage(o),["prevent"])},r(o),9,k)],2))),128)),e("li",{class:m(["page-item",{disabled:d.currentPage===d.lastPage}])},[e("a",{class:"page-link",href:"#",onClick:t[1]||(t[1]=p((...o)=>a.nextPage&&a.nextPage(...o),["prevent"]))},"›")],2)])])])])])}const I=y(M,[["render",x]]),T={props:{vehiclesList:Array,vehiclesListCount:Number,requestQuery:Object},components:{Link:A.Link,Pagination:I},data(){return{index:""}},computed:{computedLastPage(){return Math.max(1,Math.ceil(this.vehiclesListCount/12))},currentPage(){const s=parseInt(this.requestQuery.page??1,10);return s<1?1:s>this.computedLastPage?this.computedLastPage:s},vehiclesListCount(){return this.$page.props.vehiclesListCount??0},firstItem(){return(this.currentPage-1)*12+1},lastItem(){return Math.min(this.vehiclesListCount,this.currentPage*12)}},mounted(){parseInt(this.$page.props.requestQuery.page??1,10)>this.computedLastPage&&this.gotoPage(this.computedLastPage)},methods:{stringToSlug(s){return s.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/--+/g,"-").replace(/^-+|-+$/g,"")},getFirstImage(s){const t=s.split("#");return t.length>0?t[0].replace("&h=50",""):""},gotoPage(s){var t;this.$inertia.reload({method:"POST",data:{...(t=this.$page.props)==null?void 0:t.requestQuery,page:s,_method:"GET"},onSuccess:()=>{this.loading=!1,window.scrollTo({top:0,behavior:"smooth"})}})}}},S={class:"container-fluid px-5 px-md-6 mobileResponsiveForPadding my-5"},O={key:0},D={class:"row g-4"},R={class:"vehicle-card h-100"},V={class:"card-image"},$=["src"],q={class:"card-body"},j={class:"card-title fw-bold mb-3"},G={class:"vehicle-details"},K={class:"detail-item"},F={class:"detail-value"},B={class:"detail-item"},Q={class:"detail-value"},U={class:"detail-item"},Y={class:"detail-value"},z={class:"detail-item"},H={class:"detail-value"},J={class:"detail-item"},W={class:"detail-value"},X={class:"detail-item"},Z={class:"detail-value"},ee={class:"detail-item"},te={class:"detail-value"},se={class:"detail-item"},ae={key:1,class:"d-flex justify-content-between align-items-center mt-4 mb-2"},ie={class:"text-secondary mb-0"},oe={class:"fw-semibold"},re={class:"fw-semibold"},ne={class:"fw-semibold"},le={key:0};function de(s,t,d,u,g,a){const o=P("Link"),f=P("Pagination");return l(),n("section",S,[!s.$page.props.vehiclesList||s.$page.props.vehiclesList.length<=0?(l(),n("div",O,t[0]||(t[0]=[e("div",{class:"text-center"},[e("div",null,[e("img",{src:"/images/car-front-in-magnifier-glass.png",width:"100",alt:""})]),e("div",{class:"h5 fw-bold text-secondary pt-3"},"Please select your vehicle make.")],-1)]))):_("",!0),e("div",D,[(l(!0),n(b,null,L(s.$page.props.vehiclesList,i=>(l(),n("div",{class:"col-12 col-md-6 col-lg-4 col-xl-3",key:i.ID},[h(o,{href:s.route("auction",{id:i.ID,model:s.$root.stringToSlug(i.MARKA_NAME),slug:s.$root.stringToSlug(i.MARKA_NAME)+"-"+a.stringToSlug(i.MODEL_NAME)}),class:"text-decoration-none"},{default:v(()=>[e("div",R,[e("div",V,[e("img",{src:a.getFirstImage(i.IMAGES),class:"w-100 card-img",alt:""},null,8,$)]),e("div",q,[e("h5",j,r(i.MARKA_NAME)+" "+r(i.MODEL_NAME),1),e("div",G,[e("div",K,[t[1]||(t[1]=e("span",{class:"detail-label"},"Year",-1)),e("span",F,r(i.YEAR),1)]),e("div",B,[t[2]||(t[2]=e("span",{class:"detail-label"},"Lot No",-1)),e("span",Q,r(i.LOT),1)]),e("div",U,[t[3]||(t[3]=e("span",{class:"detail-label"},"Auction",-1)),e("span",Y,r(i.AUCTION),1)]),e("div",z,[t[4]||(t[4]=e("span",{class:"detail-label"},"Date",-1)),e("span",H,r(i.AUCTION_DATE),1)]),e("div",J,[t[5]||(t[5]=e("span",{class:"detail-label"},"Mileage",-1)),e("span",W,r(i.MILEAGE)+" KM",1)]),e("div",X,[t[6]||(t[6]=e("span",{class:"detail-label"},"Engine",-1)),e("span",Z,r(i.ENG_V)+" CC",1)]),e("div",ee,[t[7]||(t[7]=e("span",{class:"detail-label"},"Color",-1)),e("span",te,r(i.COLOR),1)]),e("div",se,[h(o,{href:s.$root.getUser()?s.route("auction",{id:i.ID,model:s.$root.stringToSlug(i.MARKA_NAME),slug:s.$root.stringToSlug(i.MARKA_NAME)+"-"+a.stringToSlug(i.MODEL_NAME)}):s.route("user.login"),class:"d-flex justify-content-center align-items-center h-100 btn btn-seemore detail-label"},{default:v(()=>t[8]||(t[8]=[c("MORE DETAILS ")])),_:2,__:[8]},1032,["href"])])])])])]),_:2},1032,["href"])]))),128))]),a.vehiclesListCount>0?(l(),n("div",ae,[e("p",ie,[t[9]||(t[9]=c(" Showing ")),e("span",oe,r(a.firstItem),1),t[10]||(t[10]=c(" to ")),e("span",re,r(a.lastItem),1),t[11]||(t[11]=c(" of ")),e("span",ne,r(a.vehiclesListCount),1),t[12]||(t[12]=c(" results "))]),a.computedLastPage>1?(l(),n("div",le,[h(f,{total:a.vehiclesListCount,currentPage:a.currentPage,lastPage:a.computedLastPage,onGoto:a.gotoPage},null,8,["total","currentPage","lastPage","onGoto"])])):_("",!0)])):_("",!0)])}const ce=y(T,[["render",de],["__scopeId","data-v-4aba4c10"]]);export{ce as default};
