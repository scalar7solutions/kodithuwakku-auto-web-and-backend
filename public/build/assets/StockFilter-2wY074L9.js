import{L as A,M as p,o as i,i as n,g as r,f as s,t as h,j as b,N as E,P as B,G as _,H as w,x as k,w as N,E as a,J as m,Q as P,R as F}from"./index-Dluosi3b.js";import $ from"./Types-CjFcx0dk.js";import U from"./Manufactures-Dy-cweH3.js";import H from"./Models-Dznstl7p.js";import I from"./Countries-pRYQ27cs.js";import R from"./Banner-cxgiD20R.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                              */const D={components:{Types:$,Manufactures:U,Models:H,Countries:I,Link:A,Banner:R},name:"AvailableStockIndex",data(){return{isSticky:!1,sortBy:this.$page.props.requestQuery.sortBy||"",keyword:this.$page.props.requestQuery.keyword||"",isLoading:!1}},computed:{selectedCountry(){return this.$page.props.selectedCountry||null}},mounted(){window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){var u;const o=window.scrollY,c=((u=this.$refs.filterSidebar)==null?void 0:u.offsetTop)||0;this.isSticky=o>c},search(){this.isLoading=!0,this.$inertia.reload({method:"POST",data:{_method:"GET",keyword:this.keyword},onFinish:()=>{this.isLoading=!1}})},clearSearch(){this.keyword="",this.isLoading=!0,this.$inertia.visit("/available-cars",{method:"get",onFinish:()=>{this.isLoading=!1}})},applySort(){this.isLoading=!0;const o={...this.$page.props.requestQuery,sortBy:this.sortBy};this.$inertia.get(window.location.pathname,o,{preserveScroll:!0,onFinish:()=>{this.isLoading=!1}})}}},t=o=>(P("data-v-528313f1"),o=o(),F(),o),O={class:"container4 mt-5 mb-5"},Y={class:"row"},j={class:"col-lg-3 position-relative"},q={class:"card-body"},Q=t(()=>s("h3",{class:"mb-4"},"Filter Car",-1)),G={class:"d-flex flex-column"},z={class:"d-flex justify-content-end gap-2"},J={class:"accordion",id:"accordionExample"},W={class:"accordion-item border-0 mb-2"},K=t(()=>s("h2",{class:"accordion-header"},[s("button",{class:"accordion-button rounded",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"},"TYPE")],-1)),X={id:"collapseOne",class:"accordion-collapse collapse show","data-bs-parent":"#accordionExample"},Z={class:"accordion-body"},ss={class:"accordion-item border-0 mb-2"},es=t(()=>s("h2",{class:"accordion-header"},[s("button",{class:"accordion-button collapsed rounded",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseTwo","aria-expanded":"false","aria-controls":"collapseTwo"},"MANUFACTURER")],-1)),ts={id:"collapseTwo",class:"accordion-collapse collapse","data-bs-parent":"#accordionExample"},os={class:"accordion-body"},as={class:"accordion-item border-0 mb-2"},is=t(()=>s("h2",{class:"accordion-header"},[s("button",{class:"accordion-button collapsed rounded",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseThree","aria-expanded":"false","aria-controls":"collapseThree"},"MODEL")],-1)),ns={id:"collapseThree",class:"accordion-collapse collapse","data-bs-parent":"#accordionExample"},cs={class:"accordion-body"},ls={class:"accordion-item border-0 mb-2"},rs=t(()=>s("h2",{class:"accordion-header"},[s("button",{class:"accordion-button collapsed rounded",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseFour","aria-expanded":"false","aria-controls":"collapseFour"},"COUNTRY")],-1)),ds={id:"collapseFour",class:"accordion-collapse collapse","data-bs-parent":"#accordionExample"},ps={class:"accordion-body"},_s={class:"col-lg-9"},us={class:"d-flex justify-content-between align-items-center mb-3"},hs=t(()=>s("option",{value:""},"Sort by",-1)),ms=t(()=>s("option",{value:"priceLowHigh"},"Price: Low to High",-1)),gs=t(()=>s("option",{value:"priceHighLow"},"Price: High to Low",-1)),fs=t(()=>s("option",{value:"newest"},"Newest Arrivals",-1)),ys=[hs,ms,gs,fs],vs={key:0,class:"text-center"},bs=t(()=>s("p",null,"Loading vehicles...",-1)),ws=[bs],ks={key:1,class:"cards-grid"},Ss={class:"image-container"},Ts=["src"],Ls={class:"image-counter"},xs=t(()=>s("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[s("rect",{x:"2",y:"2",width:"16",height:"16",rx:"2"}),s("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),s("path",{d:"M20.4 14.5L16 10 4 20"})],-1)),Cs={class:"card-content"},Ms={class:"price-section"},As={class:"price-left"},Es=t(()=>s("span",{class:"label"},"Price",-1)),Bs={class:"price"},Ns={class:"price-note"},Ps={class:"price-right"},Fs={class:"detail-item"},$s={class:"detail-item"},Us={class:"detail-item"},Hs={key:1,style:{color:"green"}},Is={key:0,class:"detail-item"},Rs={class:"car-details mb-2"},Vs={class:"car-name"},Ds={class:"features-grid"},Os={class:"feature-item feature-left"},Ys=t(()=>s("img",{class:"ficon",src:"/images/Assets/seat.svg",alt:"Seat icon"},null,-1)),js={class:"feature-item feature-right"},qs=t(()=>s("img",{class:"ficon",src:"/images/Assets/doors.svg",alt:"Door icon"},null,-1)),Qs={class:"feature-item feature-left"},Gs=t(()=>s("img",{class:"ficon",src:"/images/Assets/passenger.svg",alt:"Passengers icon"},null,-1)),zs={class:"feature-item feature-right"},Js=t(()=>s("img",{class:"ficon",src:"/images/Assets/flash.svg",alt:"Fuel icon"},null,-1)),Ws={class:"feature-item feature-left"},Ks=t(()=>s("img",{class:"ficon",src:"/images/Assets/automatc.svg",alt:"Transmission icon"},null,-1)),Xs={class:"feature-item feature-right"},Zs=t(()=>s("img",{class:"ficon",src:"/images/Assets/miles.svg",alt:"Range icon"},null,-1)),se={key:2,class:"mt-4 flex justify-center"},ee={"aria-label":"Page navigation"},te={class:"pagination"},oe={key:3,class:"text-center"},ae=t(()=>s("p",null,"No vehicles found matching your filters.",-1)),ie=[ae];function ne(o,c,u,ce,d,l){const S=p("Banner"),T=p("Types"),L=p("Manufactures"),x=p("Models"),C=p("Countries"),g=p("Link");return i(),n(_,null,[r(S,{"selected-country":l.selectedCountry},null,8,["selected-country"]),s("div",O,[s("div",Y,[s("div",j,[s("div",{class:h(["p-3 filter-sidebar",{"sticky-filter":d.isSticky}])},[s("div",q,[Q,s("div",G,[b(s("input",{type:"text",class:"form-control rounded mb-2",placeholder:"Search vehicles...","onUpdate:modelValue":c[0]||(c[0]=e=>d.keyword=e)},null,512),[[E,d.keyword]]),s("div",z,[s("button",{class:"btn btn-primary",onClick:c[1]||(c[1]=(...e)=>l.search&&l.search(...e))},"Search"),s("button",{class:"btn btn-secondary",onClick:c[2]||(c[2]=(...e)=>l.clearSearch&&l.clearSearch(...e))},"Clear")])]),s("div",J,[s("div",W,[K,s("div",X,[s("div",Z,[r(T)])])]),s("div",ss,[es,s("div",ts,[s("div",os,[r(L)])])]),s("div",as,[is,s("div",ns,[s("div",cs,[r(x)])])]),s("div",ls,[rs,s("div",ds,[s("div",ps,[r(C,{countries:o.$page.props.countries},null,8,["countries"])])])])])])],2)]),s("div",_s,[s("div",us,[b(s("select",{class:"form-select w-auto ms-auto","onUpdate:modelValue":c[3]||(c[3]=e=>d.sortBy=e),onChange:c[4]||(c[4]=(...e)=>l.applySort&&l.applySort(...e))},ys,544),[[B,d.sortBy]])]),d.isLoading?(i(),n("div",vs,ws)):o.$page.props.vehicles.data.length?(i(),n("div",ks,[(i(!0),n(_,null,w(o.$page.props.vehicles.data,e=>(i(),n("div",{class:"card-wrapper",key:e.id},[r(g,{class:"card car-card h-100 position-relative text-decoration-none text-dark",href:o.route("product",{model:o.$root.stringToSlug(e.manufacture.title),slug:o.$root.stringToSlug(e.manufacture.title)+"-"+o.$root.stringToSlug(e.vehicle_model.title),id:e.id})},{default:N(()=>{var f,y;return[s("div",Ss,[s("img",{src:(f=e.media.find(M=>{var v;return((v=M.custom_properties)==null?void 0:v.type)==="vehicle_main"}))==null?void 0:f.original_url,alt:"Car Image",class:"car-image img-fluid"},null,8,Ts),s("div",Ls,[xs,s("span",null,a(((y=e.media)==null?void 0:y.length)||0),1)])]),s("div",Cs,[s("div",Ms,[s("div",As,[Es,s("span",Bs,"$"+a(e.price||0),1),s("span",Ns,a(e.priceNote||"Price includes VAT"),1)]),s("div",Ps,[s("div",Fs,[e.used_status==="Used"?(i(),n(_,{key:0},[m(a(e.engine_capacity)+" Initial Payment",1)],64)):(i(),n(_,{key:1},[m(a(e.engine_capacity)+" Engine",1)],64))]),s("div",$s,a(e.year||"24 Month Contract")+" Reg Year",1),s("div",Us,[e.used_status==="Used"?(i(),n(_,{key:0},[m(a(e.mileage)+" Miles P/A ",1)],64)):(i(),n("span",Hs,"BRAND NEW"))]),e.monthly_price?(i(),n("div",Is,a("$"+e.monthly_price)+" Per Month",1)):k("",!0)])]),s("div",Rs,[s("h2",Vs,a(e.manufacture.title)+" "+a(e.vehicle_model.title),1),s("p",{class:h(["car-model",{"availability-available":e.availability==="Available","availability-arriving":e.availability==="Arriving","availability-sold":e.availability==="Sold"}])},a(e.availability),3)]),s("div",Ds,[s("div",Os,[Ys,s("span",null,a(e.seats)+" Seats",1)]),s("div",js,[qs,s("span",null,a(e.doors)+" Doors",1)]),s("div",Qs,[Gs,s("span",null,a(e.passengers)+" persons",1)]),s("div",zs,[Js,s("span",null,a(e.fuel_type),1)]),s("div",Ws,[Ks,s("span",null,a(e.transmission),1)]),s("div",Xs,[Zs,s("span",null,a(e.range)+" Miles",1)])])])]}),_:2},1032,["href"])]))),128))])):k("",!0),o.$page.props.vehicles.links.length?(i(),n("div",se,[s("nav",ee,[s("ul",te,[(i(!0),n(_,null,w(o.$page.props.vehicles.links,e=>(i(),n("li",{key:e.label,class:h(["page-item",{active:e.active,disabled:!e.url}])},[r(g,{class:"page-link",href:e.url,innerHTML:e.label},null,8,["href","innerHTML"])],2))),128))])])])):(i(),n("div",oe,ie))])])])],64)}const ge=V(D,[["render",ne],["__scopeId","data-v-528313f1"]]);export{ge as default};
