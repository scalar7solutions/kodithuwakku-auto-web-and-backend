import{d as g,J as f,e as k,o as p,w as b,f as o,B as E,g as r,j as c,y,k as a,K as d,E as n,G as V,H as U,D as A,F as x}from"./index-CgzAhKMx.js";import{S as M,A as D}from"./AppLayout-Crsfd-lO.js";import{F as L}from"./FileInputComponent-B3UHBSWk.js";import{E as O}from"./Editor-2X-cc7Wf.js";import{d as F}from"./index-CRUnqYQo.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";const T={components:{Link:g.Link,AppLayout:D,FileInputComponent:L,SelectInputComponentVue:M,Editor:O},props:{errors:Object,allRoles:Object,backendUser:Object,branches:Array,features:Array,service_types:Object,vehicle_manufacture:Object,vehicle:Object,type:Object,manufacture:Object,color:Object,model:Object,countries:Array},data(){return{apiKey:void 0,form:g.useForm({id:"",vehicle_type:"",manufacture_name:"",model:"",seo_url:"",ex_color:"",in_color:"",features:[],transmission:"",year:"",chassis_no:"",condition:"",seats:"",doors:"",passengers:"",engine_capacity:"",mileage:"",fuel_type:"",drive_type:"",auction_grade:"",interior_condition:"",availability:"",editorContent:"",featured:"",latest:"",status:"",vehicle_image:"",countries:[],price:"",used_status:"",monthly_price:"",initial_payment:"",uploaded_Images:[]})}},mounted(){this.vehicle&&(this.form.id=this.vehicle.id,this.form.vehicle_type=this.vehicle.vehicle_type_id,this.form.manufacture_name=this.vehicle.manufacture_id,this.form.model=this.vehicle.vehicle_model_id,this.form.seo_url=this.vehicle.seo_url,this.form.ex_color=this.vehicle.ex_color,this.form.in_color=this.vehicle.in_color,this.form.features=this.vehicle.FeaturesList??[],this.form.transmission=this.vehicle.transmission,this.form.year=this.vehicle.year,this.form.chassis_no=this.vehicle.chassis_no,this.form.condition=this.vehicle.condition,this.form.seats=this.vehicle.seats,this.form.doors=this.vehicle.doors,this.form.passengers=this.vehicle.passengers,this.form.engine_capacity=this.vehicle.engine_capacity,this.form.mileage=this.vehicle.mileage,this.form.fuel_type=this.vehicle.fuel_type,this.form.drive_type=this.vehicle.drive_type,this.form.auction_grade=this.vehicle.auction_grade,this.form.interior_condition=this.vehicle.interior_condition,this.form.availability=this.vehicle.availability,this.form.editorContent=this.vehicle.editorContent,this.form.featured=this.vehicle.featured,this.form.latest=this.vehicle.latest,this.form.status=this.vehicle.status,this.form.countries=this.vehicle.countries||[],this.form.price=this.vehicle.price,this.form.used_status=this.vehicle.used_status,this.form.monthly_price=this.vehicle.monthly_price,this.form.initial_payment=this.vehicle.initial_payment,this.vehicle.media&&this.vehicle.media.length>0&&this.vehicle.media.filter(l=>{var e;return((e=l.custom_properties)==null?void 0:e.type)==="vehicle_gallery"}).forEach(l=>{this.form.uploaded_Images.push({file:l,preview:l.original_url})}))},computed:{countriesOptions(){return this.countries.map(l=>({id:l.id,name:l.name}))},Vehicle_Image(){if(this.vehicle&&this.vehicle.media.length>0){const l=this.vehicle.media.find(e=>{var t;return((t=e.custom_properties)==null?void 0:t.type)==="vehicle_main"});return l?l.original_url:""}return""}},methods:{handleImageUpload(l){const e=Array.from(l.target.files);console.log(e),e.forEach(t=>{if(t&&t.type.startsWith("image/")){const _=new FileReader;_.onload=s=>{this.form.uploaded_Images.push({file:t,preview:s.target.result})},_.readAsDataURL(t)}else console.error("Selected file is not an image:",t)})},removeUploadedImage(l){const e=this.form.uploaded_Images[l];console.log(e.file.original_url),e.file.original_url&&e.preview?F.Inertia.post(route("vehicle.image.remove"),{imageUrl:e.preview,product_id:this.vehicle.id},{onSuccess:()=>{this.form.uploaded_Images.splice(l,1)},onError:t=>{console.error("Error deleting image:",t)}}):this.form.uploaded_Images.splice(l,1)},getModels(){this.$inertia.reload({method:"POST",data:{_method:"GET",manufacture_id:this.form.manufacture_name}})},submit(){this.form.post(this.vehicle?route("vehicle.update"):route("vehicle.store"),{onSuccess:()=>{this.form.reset(),this.$root.showMessage("success",'<span class="text-success">Success</span><br/>',"A Record Was Created Successfully! ")},onError:()=>{this.form.reset("password","password_confirmation"),this.$root.showMessage("error",'<span class="text-danger">Error</span><br>',"Something went wrong! ")}})}}},N={class:"row"},R={class:"card mb-4"},B={class:"card-body"},P={class:"row"},G={class:"mb-3 col-md-6"},H={class:"mb-3 col-md-6"},K={class:"mb-3 col-md-6"},q={class:"mb-3 col-md-6"},W={class:"mb-3 col-md-6"},J={class:"mb-3 col-md-6"},Y={class:"input-group"},z={class:"text-danger"},Q={class:"mb-3 col-md-12"},X={class:"features-container"},Z=["id","value"],$=["for"],ee={class:"mb-3 col-md-6"},oe={class:"text-danger"},se={class:"mb-3 col-md-6"},ie={class:"text-danger"},le={class:"mb-3 col-md-6"},te={class:"text-danger"},re={class:"mb-3 col-md-6"},ne={class:"text-danger"},me={class:"mb-3 col-md-6"},ae={class:"text-danger"},de={class:"mb-3 col-md-6"},ue={class:"text-danger"},pe={class:"mb-3 col-md-6"},ce={class:"text-danger"},fe={key:0,class:"mb-3 col-md-6"},ve={class:"text-danger"},_e={class:"mb-3 col-md-6"},he={class:"text-danger"},ge={class:"mb-3 col-md-6"},be={class:"text-danger"},ye={class:"mb-3 col-md-6"},Ve={class:"input-group"},Ue={class:"text-danger"},xe={class:"mb-3 col-md-6"},Ie={class:"input-group"},Ce={class:"text-danger"},we={class:"mb-3 col-md-11"},Se={class:"mb-3 col-md-6"},ke={class:"mb-3 col-md-12"},Ee={class:"row"},Ae={class:"col-md-6"},Me={class:"text-danger"},De={class:"col-md-6"},Le={class:"mb-4",style:{padding:"0.5rem 4%"}},Oe={class:"upload-button"},Fe={class:"btn btn-outline-primary"},je={key:0,class:"image-upload-container mt-2"},Te={class:"image-box"},Ne=["src"],Re=["onClick"],Be={class:"mt-2"},Pe=["disabled"];function Ge(l,e,t,_,s,u){const m=f("SelectInputComponentVue"),I=f("Editor"),C=f("FileInputComponent"),w=f("Link"),S=f("AppLayout");return p(),k(S,null,{default:b(()=>[o("div",N,[o("div",R,[e[55]||(e[55]=o("div",{class:"card-header pb-0"},[o("h5",null,"Vehicle Manufacture"),o("p",null,"Manage Vehicle Manufacture.")],-1)),e[56]||(e[56]=o("hr",null,null,-1)),o("div",B,[o("form",{id:"formAccountSettings",onSubmit:e[31]||(e[31]=E((...i)=>u.submit&&u.submit(...i),["prevent"]))},[o("div",P,[o("div",G,[r(m,{class:"w-100",id:"vehicle_type",label:"Vehicle type",modelValue:s.form.vehicle_type,"onUpdate:modelValue":e[0]||(e[0]=i=>s.form.vehicle_type=i),options:t.type},null,8,["modelValue","options"])]),o("div",H,[r(m,{class:"w-100",id:"manufacture_name",label:"Manufacture Name",modelValue:s.form.manufacture_name,"onUpdate:modelValue":e[1]||(e[1]=i=>s.form.manufacture_name=i),options:t.manufacture,onChange:u.getModels},null,8,["modelValue","options","onChange"])]),o("div",K,[r(m,{class:"w-100",id:"model",label:"Model",modelValue:s.form.model,"onUpdate:modelValue":e[2]||(e[2]=i=>s.form.model=i),options:t.model},null,8,["modelValue","options"])]),o("div",q,[r(m,{class:"w-100",id:"ex_color",label:"Ex color",modelValue:s.form.ex_color,"onUpdate:modelValue":e[3]||(e[3]=i=>s.form.ex_color=i),options:t.color},null,8,["modelValue","options"])]),o("div",W,[r(m,{class:"w-100",id:"in_color",label:"In color",modelValue:s.form.in_color,"onUpdate:modelValue":e[4]||(e[4]=i=>s.form.in_color=i),options:t.color},null,8,["modelValue","options"])]),o("div",J,[e[33]||(e[33]=o("label",{for:"price",class:"form-label"},"Price",-1)),o("div",Y,[e[32]||(e[32]=o("span",{class:"input-group-text"},"$ USD",-1)),a(o("input",{class:"form-control",type:"text",id:"price",name:"price","onUpdate:modelValue":e[5]||(e[5]=i=>s.form.price=i)},null,512),[[d,s.form.price]])]),o("div",z,n(s.form.errors.price),1)]),o("div",Q,[e[34]||(e[34]=o("label",{class:"form-label"},"Features",-1)),o("div",X,[(p(!0),c(V,null,U(t.features,(i,v)=>(p(),c("div",{key:v,class:"checkbox-container"},[a(o("input",{type:"checkbox",id:"feature-"+i.id,value:i.id,"onUpdate:modelValue":e[6]||(e[6]=h=>s.form.features=h)},null,8,Z),[[A,s.form.features]]),o("label",{for:"feature-"+i.id},n(i.name),9,$)]))),128))])]),r(m,{id:"transmission",label:"Transmission",error:s.form.errors.transmission,options:[{id:"Auto",name:"Auto"},{id:"Manual",name:"Manual"},{id:"Triptonic",name:"Triptonic"}],modelValue:s.form.transmission,"onUpdate:modelValue":e[7]||(e[7]=i=>s.form.transmission=i)},null,8,["error","modelValue"]),o("div",ee,[e[35]||(e[35]=o("label",{for:"year",class:"form-label"},"Year",-1)),a(o("input",{class:"form-control",type:"number",id:"year",name:"year","onUpdate:modelValue":e[8]||(e[8]=i=>s.form.year=i)},null,512),[[d,s.form.year]]),o("div",oe,n(s.form.errors.year),1)]),o("div",se,[e[36]||(e[36]=o("label",{for:"chassis_no",class:"form-label"},"Chassis No",-1)),a(o("input",{class:"form-control",type:"text",id:"chassis_no",name:"chassis_no","onUpdate:modelValue":e[9]||(e[9]=i=>s.form.chassis_no=i)},null,512),[[d,s.form.chassis_no]]),o("div",ie,n(s.form.errors.chassis_no),1)]),o("div",le,[e[37]||(e[37]=o("label",{for:"condition",class:"form-label"},"Condition",-1)),a(o("input",{class:"form-control",type:"text",id:"condition",name:"condition","onUpdate:modelValue":e[10]||(e[10]=i=>s.form.condition=i)},null,512),[[d,s.form.condition]]),o("div",te,n(s.form.errors.condition),1)]),o("div",re,[e[38]||(e[38]=o("label",{for:"seats",class:"form-label"},"Seats",-1)),a(o("input",{class:"form-control",type:"number",id:"seats",name:"seats","onUpdate:modelValue":e[11]||(e[11]=i=>s.form.seats=i)},null,512),[[d,s.form.seats]]),o("div",ne,n(s.form.errors.seats),1)]),o("div",me,[e[39]||(e[39]=o("label",{for:"doors",class:"form-label"},"Doors",-1)),a(o("input",{class:"form-control",type:"number",id:"doors",name:"doors","onUpdate:modelValue":e[12]||(e[12]=i=>s.form.doors=i)},null,512),[[d,s.form.doors]]),o("div",ae,n(s.form.errors.doors),1)]),o("div",de,[e[40]||(e[40]=o("label",{for:"passengers",class:"form-label"},"Passengers",-1)),a(o("input",{class:"form-control",type:"number",id:"passengers",name:"passengers","onUpdate:modelValue":e[13]||(e[13]=i=>s.form.passengers=i)},null,512),[[d,s.form.passengers]]),o("div",ue,n(s.form.errors.passengers),1)]),o("div",pe,[e[41]||(e[41]=o("label",{for:"engine_capacity",class:"form-label"},"Engine Capacity",-1)),a(o("input",{class:"form-control",type:"text",id:"engine_capacity",name:"engine_capacity","onUpdate:modelValue":e[14]||(e[14]=i=>s.form.engine_capacity=i)},null,512),[[d,s.form.engine_capacity]]),o("div",ce,n(s.form.errors.engine_capacity),1)]),r(m,{id:"used_status",label:"Vehicle Status",error:s.form.errors.used_status,options:[{id:"Brand New",name:"Brand New"},{id:"Used",name:"Used"}],modelValue:s.form.used_status,"onUpdate:modelValue":e[15]||(e[15]=i=>s.form.used_status=i)},null,8,["error","modelValue"]),s.form.used_status==="Used"?(p(),c("div",fe,[e[42]||(e[42]=o("label",{for:"mileage",class:"form-label"},"Mileage",-1)),a(o("input",{class:"form-control",type:"number",id:"mileage",name:"mileage","onUpdate:modelValue":e[16]||(e[16]=i=>s.form.mileage=i)},null,512),[[d,s.form.mileage]]),o("div",ve,n(s.form.errors.mileage),1)])):y("",!0),r(m,{id:"fuel_type",label:"Fuel Type",error:s.form.errors.fuel_type,options:[{id:"Diesel",name:"Diesel"},{id:"Petrol",name:"Petrol"},{id:"Hybrid",name:"Hybrid"},{id:"Electric",name:"Electric"}],modelValue:s.form.fuel_type,"onUpdate:modelValue":e[17]||(e[17]=i=>s.form.fuel_type=i)},null,8,["error","modelValue"]),r(m,{id:"drive_type",label:"Drive Type",error:s.form.errors.drive_type,options:[{id:"Right Side Driving",name:"Right Side Driving"},{id:"Left Side Driving",name:"Left Side Driving"}],modelValue:s.form.drive_type,"onUpdate:modelValue":e[18]||(e[18]=i=>s.form.drive_type=i)},null,8,["error","modelValue"]),o("div",_e,[e[43]||(e[43]=o("label",{for:"auction_grade",class:"form-label"},"Auction Grade",-1)),a(o("input",{class:"form-control",type:"text",id:"auction_grade",name:"auction_grade","onUpdate:modelValue":e[19]||(e[19]=i=>s.form.auction_grade=i)},null,512),[[d,s.form.auction_grade]]),o("div",he,n(s.form.errors.auction_grade),1)]),o("div",ge,[e[44]||(e[44]=o("label",{for:"interior_condition",class:"form-label"},"Interior Condition",-1)),a(o("input",{class:"form-control",type:"text",id:"interior_condition",name:"interior_condition","onUpdate:modelValue":e[20]||(e[20]=i=>s.form.interior_condition=i)},null,512),[[d,s.form.interior_condition]]),o("div",be,n(s.form.errors.interior_condition),1)]),r(m,{id:"availability",label:"Availability",error:s.form.errors.availability,options:[{id:"Available",name:"Available"},{id:"Arriving",name:"Arriving"},{id:"Sold",name:"Sold"}],modelValue:s.form.availability,"onUpdate:modelValue":e[21]||(e[21]=i=>s.form.availability=i)},null,8,["error","modelValue"]),o("div",ye,[e[46]||(e[46]=o("label",{for:"monthly_price",class:"form-label"},"Monthly Price",-1)),o("div",Ve,[e[45]||(e[45]=o("span",{class:"input-group-text"},"USD",-1)),a(o("input",{class:"form-control",type:"text",id:"monthly_price",name:"monthly_price","onUpdate:modelValue":e[22]||(e[22]=i=>s.form.monthly_price=i)},null,512),[[d,s.form.monthly_price]])]),o("div",Ue,n(s.form.errors.monthly_price),1)]),o("div",xe,[e[48]||(e[48]=o("label",{for:"initial_payment",class:"form-label"},"Initial Payment",-1)),o("div",Ie,[e[47]||(e[47]=o("span",{class:"input-group-text"},"USD",-1)),a(o("input",{class:"form-control",type:"text",id:"initial_payment",name:"initial_payment","onUpdate:modelValue":e[23]||(e[23]=i=>s.form.initial_payment=i)},null,512),[[d,s.form.initial_payment]])]),o("div",Ce,n(s.form.errors.initial_payment),1)]),o("div",we,[r(m,{id:"countries",label:"Countries",modelValue:s.form.countries,"onUpdate:modelValue":e[24]||(e[24]=i=>s.form.countries=i),options:u.countriesOptions,isMultiple:!0,isRequired:!0},null,8,["modelValue","options"])]),o("div",null,[r(I,{modelValue:s.form.editorContent,"onUpdate:modelValue":e[25]||(e[25]=i=>s.form.editorContent=i),"api-key":s.apiKey,init:{plugins:"lists link image table code help wordcount"}},null,8,["modelValue","api-key"])]),o("div",Se,[o("div",ke,[o("div",Ee,[o("div",Ae,[e[49]||(e[49]=o("label",{for:"image",class:"form-label me-3"},"Main Image",-1)),e[50]||(e[50]=o("br",null,null,-1)),r(C,{isRequired:!1,id:"vehicle_image",prvImage:u.Vehicle_Image,modelValue:s.form.vehicle_image,"onUpdate:modelValue":e[26]||(e[26]=i=>s.form.vehicle_image=i)},null,8,["prvImage","modelValue"]),o("div",Me,n(s.form.errors.vehicle_image),1)]),o("div",De,[o("div",Le,[e[53]||(e[53]=o("h6",null,"Gallery Images",-1)),o("div",Oe,[o("label",Fe,[e[51]||(e[51]=x(" Upload Images ")),o("input",{type:"file",multiple:"",onChange:e[27]||(e[27]=(...i)=>u.handleImageUpload&&u.handleImageUpload(...i)),hidden:""},null,32)])]),s.form.uploaded_Images.length>0?(p(),c("div",je,[(p(!0),c(V,null,U(s.form.uploaded_Images,(i,v)=>(p(),c("div",{class:"",key:v},[o("div",Te,[o("img",{src:i.preview,alt:"Uploaded Image",class:"img-fluid"},null,8,Ne),o("button",{type:"button",class:"remove-btn",onClick:h=>u.removeUploadedImage(v)},e[52]||(e[52]=[o("i",{class:"fas fa-times"},null,-1)]),8,Re)])]))),128))])):y("",!0)])])])]),r(m,{id:"featured",label:"Is Featured",error:s.form.errors.featured,options:[{id:"1",name:"Enable"},{id:"0",name:"Disable"}],modelValue:s.form.featured,"onUpdate:modelValue":e[28]||(e[28]=i=>s.form.featured=i)},null,8,["error","modelValue"]),r(m,{id:"latest",label:"Is Latest",error:s.form.errors.latest,options:[{id:"1",name:"Enable"},{id:"0",name:"Disable"}],modelValue:s.form.latest,"onUpdate:modelValue":e[29]||(e[29]=i=>s.form.latest=i)},null,8,["error","modelValue"]),r(m,{id:"status",label:"status",error:s.form.errors.status,options:[{id:"1",name:"Active"},{id:"0",name:"Inactive"}],modelValue:s.form.status,"onUpdate:modelValue":e[30]||(e[30]=i=>s.form.status=i)},null,8,["error","modelValue"])])]),o("div",Be,[o("button",{type:"submit",class:"btn btn-main me-2",disabled:s.form.processing},n(t.vehicle?"Update":"Save"),9,Pe),r(w,{class:"btn btn-outline-danger",href:l.route("vehicle_manufacture.index")},{default:b(()=>e[54]||(e[54]=[x("Cancel")])),_:1,__:[54]},8,["href"])])],32)])])])]),_:1})}const ze=j(T,[["render",Ge],["__scopeId","data-v-ebc37015"]]);export{ze as default};
