import{d as C,J as u,j as a,o as n,g as d,f as s,x as g,k as v,K as M,y as b,N as A,G as c,H as w,w as E,E as o,F as p}from"./index-Cq6CXwRA.js";import B from"./Types-CrENYu0c.js";import P from"./Manufactures-DlXd5BEo.js";import N from"./Models-CFdeTqIe.js";import F from"./Countries-BjdAD2bo.js";import D from"./Banner-ZxAN1oBC.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                              */const R={components:{Types:B,Manufactures:P,Models:N,Countries:F,Link:C.Link,Banner:D},name:"AvailableStockIndex",data(){return{isSticky:!1,sortBy:this.$page.props.requestQuery.sortBy||"",keyword:this.$page.props.requestQuery.keyword||"",isLoading:!1}},computed:{selectedCountry(){return this.$page.props.selectedCountry||null}},mounted(){window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){var m;const i=window.scrollY,t=((m=this.$refs.filterSidebar)==null?void 0:m.offsetTop)||0;this.isSticky=i>t},search(){this.isLoading=!0,this.$inertia.reload({method:"POST",data:{_method:"GET",keyword:this.keyword},onFinish:()=>{this.isLoading=!1}})},clearSearch(){this.keyword="",this.isLoading=!0,this.$inertia.visit("/available-cars",{method:"get",onFinish:()=>{this.isLoading=!1}})},applySort(){this.isLoading=!0;const i={...this.$page.props.requestQuery,sortBy:this.sortBy};this.$inertia.get(window.location.pathname,i,{preserveScroll:!0,onFinish:()=>{this.isLoading=!1}})},formatPrice(i){return i==null?"0":(Number(i)||0).toLocaleString("en-LK",{minimumFractionDigits:0,maximumFractionDigits:0})}}},U={class:"container4 mt-5 mb-5"},V={class:"row"},O={class:"col-lg-3 position-relative"},j={class:"card-body"},q={class:"d-flex flex-column"},I={class:"d-flex justify-content-end gap-2"},K={class:"accordion",id:"accordionExample"},Y={class:"accordion-item border-0 mb-2"},$={id:"collapseOne",class:"accordion-collapse collapse show","data-bs-parent":"#accordionExample"},Q={class:"accordion-body"},G={class:"accordion-item border-0 mb-2"},z={id:"collapseTwo",class:"accordion-collapse collapse","data-bs-parent":"#accordionExample"},J={class:"accordion-body"},W={class:"accordion-item border-0 mb-2"},X={id:"collapseThree",class:"accordion-collapse collapse","data-bs-parent":"#accordionExample"},Z={class:"accordion-body"},ss={class:"col-lg-9"},ts={class:"d-flex justify-content-between align-items-center mb-3"},es={key:0,class:"text-center"},os={key:1,class:"cards-grid"},is={class:"image-container"},as=["src"],ns={class:"image-counter"},rs={class:"card-content"},ls={class:"price-section"},ds={class:"price-left"},cs={class:"price"},ps={class:"price-note"},us={class:"price-right"},ms={class:"detail-item"},gs={class:"detail-item"},fs={class:"detail-item"},ys={key:1,style:{color:"green"}},_s={key:0,class:"detail-item"},hs={class:"car-details mb-2"},vs={class:"car-name"},bs={class:"features-grid"},ws={class:"feature-item feature-left"},ks={class:"feature-item feature-right"},Ss={class:"feature-item feature-left"},Ls={class:"feature-item feature-right"},Ts={class:"feature-item feature-left"},xs={class:"feature-item feature-right"},Cs={key:2,class:"mt-4 flex justify-center"},Ms={"aria-label":"Page navigation"},As={class:"pagination"},Es={key:3,class:"text-center"};function Bs(i,t,m,Ps,l,r){const k=u("Banner"),S=u("Types"),L=u("Manufactures"),T=u("Models"),f=u("Link");return n(),a(c,null,[d(k,{"selected-country":r.selectedCountry},null,8,["selected-country"]),s("div",U,[s("div",V,[s("div",O,[s("div",{class:g(["p-3 filter-sidebar",{"sticky-filter":l.isSticky}])},[s("div",j,[t[8]||(t[8]=s("h3",{class:"mb-4"},"Filter Car",-1)),s("div",q,[v(s("input",{type:"text",class:"form-control rounded mb-2",placeholder:"Search vehicles...","onUpdate:modelValue":t[0]||(t[0]=e=>l.keyword=e)},null,512),[[M,l.keyword]]),s("div",I,[s("button",{class:"btn btn-primary",onClick:t[1]||(t[1]=(...e)=>r.search&&r.search(...e))},"Search"),s("button",{class:"btn btn-secondary",onClick:t[2]||(t[2]=(...e)=>r.clearSearch&&r.clearSearch(...e))},"Clear")])]),s("div",K,[s("div",Y,[t[5]||(t[5]=s("h2",{class:"accordion-header"},[s("button",{class:"accordion-button rounded",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"},"TYPE")],-1)),s("div",$,[s("div",Q,[d(S)])])]),s("div",G,[t[6]||(t[6]=s("h2",{class:"accordion-header"},[s("button",{class:"accordion-button collapsed rounded",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseTwo","aria-expanded":"false","aria-controls":"collapseTwo"},"MANUFACTURER")],-1)),s("div",z,[s("div",J,[d(L)])])]),s("div",W,[t[7]||(t[7]=s("h2",{class:"accordion-header"},[s("button",{class:"accordion-button collapsed rounded",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseThree","aria-expanded":"false","aria-controls":"collapseThree"},"MODEL")],-1)),s("div",X,[s("div",Z,[d(T)])])])])])],2)]),s("div",ss,[s("div",ts,[v(s("select",{class:"form-select w-auto ms-auto","onUpdate:modelValue":t[3]||(t[3]=e=>l.sortBy=e),onChange:t[4]||(t[4]=(...e)=>r.applySort&&r.applySort(...e))},t[9]||(t[9]=[s("option",{value:""},"Sort by",-1),s("option",{value:"priceLowHigh"},"Price: Low to High",-1),s("option",{value:"priceHighLow"},"Price: High to Low",-1),s("option",{value:"newest"},"Newest Arrivals",-1)]),544),[[A,l.sortBy]])]),l.isLoading?(n(),a("div",es,t[10]||(t[10]=[s("p",null,"Loading vehicles...",-1)]))):i.$page.props.vehicles.data.length?(n(),a("div",os,[(n(!0),a(c,null,w(i.$page.props.vehicles.data,e=>(n(),a("div",{class:"card-wrapper",key:e.id},[d(f,{class:"card car-card h-100 position-relative text-decoration-none text-dark",href:i.route("product",{model:i.$root.stringToSlug(e.manufacture.title),slug:i.$root.stringToSlug(e.manufacture.title)+"-"+i.$root.stringToSlug(e.vehicle_model.title),id:e.id})},{default:E(()=>{var y,_;return[s("div",is,[s("img",{src:(y=e.media.find(x=>{var h;return((h=x.custom_properties)==null?void 0:h.type)==="vehicle_main"}))==null?void 0:y.original_url,alt:"Car Image",class:"car-image img-fluid"},null,8,as),s("div",ns,[t[11]||(t[11]=s("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[s("rect",{x:"2",y:"2",width:"16",height:"16",rx:"2"}),s("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),s("path",{d:"M20.4 14.5L16 10 4 20"})],-1)),s("span",null,o(((_=e.media)==null?void 0:_.length)||0),1)])]),s("div",rs,[s("div",ls,[s("div",ds,[t[13]||(t[13]=s("span",{class:"label"},"Price",-1)),s("span",cs,[p(o(r.formatPrice(e.price))+" ",1),t[12]||(t[12]=s("span",{class:"currency"},"LKR",-1))]),s("span",ps,o(e.priceNote||"Price includes VAT"),1)]),s("div",us,[s("div",ms,[e.used_status==="Used"?(n(),a(c,{key:0},[p(o(e.engine_capacity)+" Initial Payment",1)],64)):(n(),a(c,{key:1},[p(o(e.engine_capacity)+" Engine",1)],64))]),s("div",gs,o(e.year||"24 Month Contract")+" Reg Year",1),s("div",fs,[e.used_status==="Used"?(n(),a(c,{key:0},[p(o(e.mileage)+" Miles P/A ",1)],64)):(n(),a("span",ys,"BRAND NEW"))]),e.monthly_price?(n(),a("div",_s,[p(o(r.formatPrice(e.monthly_price))+" ",1),t[14]||(t[14]=s("span",{class:"currency"},"LKR",-1)),t[15]||(t[15]=p(" Per Month "))])):b("",!0)])]),s("div",hs,[s("h2",vs,o(e.manufacture.title)+" "+o(e.vehicle_model.title),1),s("p",{class:g(["car-model",{"availability-available":e.availability==="Available","availability-arriving":e.availability==="Arriving","availability-sold":e.availability==="Sold"}])},o(e.availability),3)]),s("div",bs,[s("div",ws,[t[16]||(t[16]=s("img",{class:"ficon",src:"/images/Assets/seat.svg",alt:"Seat icon"},null,-1)),s("span",null,o(e.seats)+" Seats",1)]),s("div",ks,[t[17]||(t[17]=s("img",{class:"ficon",src:"/images/Assets/doors.svg",alt:"Door icon"},null,-1)),s("span",null,o(e.doors)+" Doors",1)]),s("div",Ss,[t[18]||(t[18]=s("img",{class:"ficon",src:"/images/Assets/passenger.svg",alt:"Passengers icon"},null,-1)),s("span",null,o(e.passengers)+" persons",1)]),s("div",Ls,[t[19]||(t[19]=s("img",{class:"ficon",src:"/images/Assets/flash.svg",alt:"Fuel icon"},null,-1)),s("span",null,o(e.fuel_type),1)]),s("div",Ts,[t[20]||(t[20]=s("img",{class:"ficon",src:"/images/Assets/automatc.svg",alt:"Transmission icon"},null,-1)),s("span",null,o(e.transmission),1)]),s("div",xs,[t[21]||(t[21]=s("img",{class:"ficon",src:"/images/Assets/miles.svg",alt:"Range icon"},null,-1)),s("span",null,o(e.range)+" Miles",1)])])])]}),_:2},1032,["href"])]))),128))])):b("",!0),i.$page.props.vehicles.links.length?(n(),a("div",Cs,[s("nav",Ms,[s("ul",As,[(n(!0),a(c,null,w(i.$page.props.vehicles.links,e=>(n(),a("li",{key:e.label,class:g(["page-item",{active:e.active,disabled:!e.url}])},[d(f,{class:"page-link",href:e.url,innerHTML:e.label},null,8,["href","innerHTML"])],2))),128))])])])):(n(),a("div",Es,t[22]||(t[22]=[s("p",null,"No vehicles found matching your filters.",-1)])))])])])],64)}const js=H(R,[["render",Bs],["__scopeId","data-v-e2b287d1"]]);export{js as default};
