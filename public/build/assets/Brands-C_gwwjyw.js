import{d as g,J as b,j as n,o,y as u,f as a,G as _,H as p,x as d,e as B,w as k,Z as x,E as m}from"./index-Cq6CXwRA.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";const y={name:"Brands",components:{Link:g.Link},props:{manufactures:{type:Array,default:()=>[]}},data(){return{imageLoaded:{},imageError:{},canScrollPrev:!1,canScrollNext:!0}},computed:{visibleBrands(){return this.manufactures.slice(0,14)}},mounted(){this.initImageState(),this.$nextTick(()=>{this.updateNavButtons()}),window.addEventListener("resize",this.updateNavButtons)},beforeUnmount(){window.removeEventListener("resize",this.updateNavButtons)},watch:{manufactures:{handler(){this.initImageState(),this.$nextTick(()=>{this.updateNavButtons()})},deep:!0}},methods:{initImageState(){this.visibleBrands.forEach(e=>{e.id in this.imageLoaded||(this.imageLoaded[e.id]=!1),e.id in this.imageError||(this.imageError[e.id]=!1)})},brandLogo(e){return e.media&&e.media[0]&&e.media[0].original_url||"/images/brand-placeholder.svg"},markBrandLoaded(e){this.imageLoaded[e]=!0},markBrandError(e){this.imageError[e]=!0},brandInitials(e){return e?e.split(" ").filter(Boolean).map(s=>s[0]).join("").toUpperCase().slice(0,2):""},scrollPrev(){const e=this.$refs.carousel;e&&e.scrollBy({left:-e.clientWidth,behavior:"smooth"})},scrollNext(){const e=this.$refs.carousel;e&&e.scrollBy({left:e.clientWidth,behavior:"smooth"})},onCarouselScroll(){this.updateNavButtons()},updateNavButtons(){const e=this.$refs.carousel;if(!e)return;const{scrollLeft:s,scrollWidth:l,clientWidth:c}=e,i=l-c-1;this.canScrollPrev=s>0,this.canScrollNext=s<i}}},S={class:"buying-essentials-section brandSection"},E={key:0,class:"lease-section container px-3"},N={class:"brand-carousel-container"},C={class:"brand-track"},w={class:"brand-card-img position-relative"},P={key:0,class:"skeleton-placeholder"},I=["src","alt","onLoad","onError"],T={key:2,class:"initials-fallback"},z={class:"brand-card-text"},W={class:"topicText"},j={class:"brand-nav d-flex align-items-center justify-content-center gap-2 mt-3"},D=["disabled"],F=["disabled"];function G(e,s,l,c,i,r){const h=b("Link");return o(),n("section",S,[l.manufactures.length>0?(o(),n("div",E,[s[5]||(s[5]=a("div",{class:"section-header"},[a("h2",{class:"headText secondFontStyle fw-semibold"}," Browse by Brand ")],-1)),a("div",N,[a("div",{class:"brand-carousel",ref:"carousel",onScroll:s[0]||(s[0]=(...t)=>r.onCarouselScroll&&r.onCarouselScroll(...t))},[a("div",C,[(o(!0),n(_,null,p(r.visibleBrands,(t,v)=>(o(),B(h,{key:t.id,method:"post",as:"button",href:e.route("available"),data:{_method:"GET",brand:t.id},class:"brand-slide text-decoration-none text-reset"},{default:k(()=>[a("div",{class:"brand-card",style:x({animationDelay:`${v*50}ms`})},[a("div",w,[!i.imageLoaded[t.id]&&!i.imageError[t.id]&&r.brandLogo(t)?(o(),n("div",P)):u("",!0),r.brandLogo(t)&&!i.imageError[t.id]?(o(),n("img",{key:1,src:r.brandLogo(t),alt:t.title+" logo",class:d(["imgStyleClass",{"is-loaded":i.imageLoaded[t.id]}]),onLoad:f=>r.markBrandLoaded(t.id),onError:f=>r.markBrandError(t.id)},null,42,I)):(o(),n("div",T,[a("span",null,m(r.brandInitials(t.title)),1)]))]),a("div",z,[a("h5",W,m(t.title),1)])],4)]),_:2},1032,["href","data"]))),128))])],544)]),a("div",j,[a("button",{type:"button",class:d(["nav-btn",{"nav-btn-disabled":!i.canScrollPrev}]),disabled:!i.canScrollPrev,onClick:s[1]||(s[1]=(...t)=>r.scrollPrev&&r.scrollPrev(...t)),"aria-label":"Previous brands"},s[3]||(s[3]=[a("span",{"aria-hidden":"true",class:"nav-icon"},"‹",-1)]),10,D),a("button",{type:"button",class:d(["nav-btn",{"nav-btn-disabled":!i.canScrollNext}]),disabled:!i.canScrollNext,onClick:s[2]||(s[2]=(...t)=>r.scrollNext&&r.scrollNext(...t)),"aria-label":"Next brands"},s[4]||(s[4]=[a("span",{"aria-hidden":"true",class:"nav-icon"},"›",-1)]),10,F)])])):u("",!0)])}const A=L(y,[["render",G],["__scopeId","data-v-534b401c"]]);export{A as default};
