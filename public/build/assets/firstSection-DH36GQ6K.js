import{L as S,M as A,o as n,i as o,f as e,G as _,H as v,g as p,w as y,T as M,x as m,t as b,E as i,J as h,Q as C,R as V}from"./index-Dluosi3b.js";import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";const F={components:{Link:S},name:"LeaseCar",props:{countries:{type:Array,default:()=>[]},vehicles:{type:Array,default:()=>[]},models:{type:Array,default:()=>[]},manufactures:{type:Array,default:()=>[]}},data(){return{activeTab:"",componentId:"firstSection_"+Date.now()}},computed:{activemanufactures(){return this.manufactures.find(a=>a.title===this.activeTab)},filteredVehicles(){if(!this.activemanufactures)return console.log("FirstSection - No active manufacturer selected"),[];const t=this.vehicles.filter(a=>{const l=a.manufacture_id===this.activemanufactures.id,r=a.manufacture&&a.manufacture.id===this.activemanufactures.id,d=a.manufacture&&a.manufacture.title===this.activemanufactures.title;return l||r||d});return console.log(`FirstSection - Filtered ${t.length} vehicles for ${this.activemanufactures.title}`),t}},mounted(){console.log("FirstSection - Vehicles Data:",this.vehicles),console.log("FirstSection - Manufactures Data:",this.manufactures),console.log("FirstSection - Models Data:",this.models),this.manufactures.length>0&&(this.activeTab=this.manufactures[0].title),this.$nextTick(()=>{console.log("FirstSection - Active Tab:",this.activeTab),console.log("FirstSection - Filtered Vehicles:",this.filteredVehicles)})},methods:{availabilityColor(t){switch(t){case"Available":return"availability-available";case"Arriving":return"availability-arriving";case"Sold":return"availability-sold";default:return""}},getManufacturerModel(t){if(t&&t.manufacture&&t.vehicle_model)return`${t.manufacture.title||t.manufacture.name||""} ${t.vehicle_model.title||t.vehicle_model.name||""}`.trim();if(!t||!t.manufacture_id||!t.vehicle_model_id)return console.warn("Invalid car data or missing IDs:",t),"";const a=this.manufactures.find(r=>r.id===t.manufacture_id)||{},l=this.models.find(r=>r.id===t.vehicle_model_id)||{};return`${a.name||a.title||""} ${l.title||l.name||""}`.trim()},setActiveTab(t){console.log("Setting activeTab to:",t),this.activeTab=t},getMainImage(t){const a=t.media.find(r=>{var d;return((d=r.custom_properties)==null?void 0:d.type)==="vehicle_main"}),l=t.media[0];return(a==null?void 0:a.original_url)||(l==null?void 0:l.original_url)||"/images/placeholder.png"}}},c=t=>(C("data-v-cc4c2b1b"),t=t(),V(),t),I={key:0,class:"lease-section container px-3"},x={class:"tabs-container text-center pt-3 pb-5"},N=c(()=>e("h1",{class:"secondFontStyle",style:{"font-weight":"600"}}," VEHICLE STOCK ",-1)),D={class:"tabs"},L=["onClick"],E={class:"car-grid"},P={class:"image-container"},B=["src"],$={class:"image-counter"},R=c(()=>e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("rect",{x:"2",y:"2",width:"16",height:"16",rx:"2"}),e("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),e("path",{d:"M20.4 14.5L16 10 4 20"})],-1)),H={class:"card-content"},O={class:"price-section"},U={class:"price-left"},j=c(()=>e("span",{class:"label"},"Price",-1)),z={class:"price"},G={class:"price-note"},J={class:"price-right"},K={class:"detail-item"},Q={class:"detail-item"},W={class:"detail-item"},Y={key:1,style:{color:"green"}},q={key:0,class:"detail-item"},X={class:"car-details"},Z={key:0,class:"car-name"},ee={key:1,class:"car-name"},te={class:"features-grid"},se={class:"feature-item feature-left"},ie=c(()=>e("img",{class:"ficon",src:"/images/Assets/seat.svg",alt:"Seat icon"},null,-1)),ae={class:"feature-item feature-right"},ne=c(()=>e("img",{class:"ficon",src:"/images/Assets/doors.svg",alt:"Door icon"},null,-1)),oe={class:"feature-item feature-left"},ce=c(()=>e("img",{class:"ficon",src:"/images/Assets/passenger.svg",alt:"Passengers icon"},null,-1)),le={class:"feature-item feature-right"},re=c(()=>e("img",{class:"ficon",src:"/images/Assets/flash.svg",alt:"Fuel icon"},null,-1)),de={class:"feature-item feature-left"},ue=c(()=>e("img",{class:"ficon",src:"/images/Assets/automatc.svg",alt:"Transmission icon"},null,-1)),_e={class:"feature-item feature-right"},he=c(()=>e("img",{class:"ficon",src:"/images/Assets/miles.svg",alt:"Range icon"},null,-1)),me=c(()=>e("img",{src:"/images/Assets/NotAv.png",alt:"No available cars",class:"placeholder-image"},null,-1)),fe=c(()=>e("p",{class:"no-cars-message"}," No available cars from this brand. ",-1)),ge=[me,fe],ve={key:0,class:"see-more-container"},pe=c(()=>e("a",{href:"/available-cars",class:"see-more-link"},"View More Details",-1)),ye=[pe];function be(t,a,l,r,d,u){const k=A("Link");return l.manufactures.length>0?(n(),o("div",I,[e("div",x,[N,e("div",D,[(n(!0),o(_,null,v(l.manufactures.slice(0,6),s=>(n(),o("button",{key:s.id,class:b(["tab-btn",{active:d.activeTab===s.title}]),onClick:f=>u.setActiveTab(s.title)},i(s.title),11,L))),128))])]),p(M,{name:"tab-transition",mode:"out-in"},{default:y(()=>[u.filteredVehicles.length>0?(n(),o("div",{class:"tab-contentn",key:d.activeTab+"-cars"},[e("div",E,[(n(!0),o(_,null,v(u.filteredVehicles.slice(0,8),(s,f)=>(n(),o("div",{class:"car-card",key:f},[p(k,{class:"card border shadow-sm d-flex flex-column h-100",type:"button",href:t.route("product",{model:t.$root.stringToSlug(s.manufacture.title),slug:t.$root.stringToSlug(s.manufacture.title)+"-"+t.$root.stringToSlug(s.vehicle_model.title),id:s.id})},{default:y(()=>[e("div",P,[e("img",{src:u.getMainImage(s),alt:"Car Image",class:"car-image"},null,8,B),e("div",$,[R,h(" "+i(s.media.filter(T=>{var g;return((g=T.custom_properties)==null?void 0:g.type)==="vehicle_gallery"}).length),1)])]),e("div",H,[e("div",O,[e("div",U,[j,e("span",z,"$"+i(s.price||"0"),1),e("span",G,i(s.priceNote||"Price includes VAT"),1)]),e("div",J,[e("div",K,[s.used_status==="Used"?(n(),o(_,{key:0},[h(i(s.engine_capacity)+" Initial Payment ",1)],64)):(n(),o(_,{key:1},[h(i(s.engine_capacity)+" Engine ",1)],64))]),e("div",Q,i(s.year||"24 Month Contract")+" Reg Year ",1),e("div",W,[s.used_status==="Used"?(n(),o(_,{key:0},[h(i(s.mileage)+" Miles P/A ",1)],64)):(n(),o("span",Y,"BRAND NEW"))]),s.monthly_price?(n(),o("div",q,i("$"+s.monthly_price)+" Per Month ",1)):m("",!0)])]),e("div",X,[s.manufacture&&s.vehicle_model?(n(),o("h2",Z,i(u.getManufacturerModel(s)),1)):(n(),o("h2",ee)),e("p",{class:b(["car-model",u.availabilityColor(s.availability)])},i(s.availability),3)]),e("div",te,[e("div",se,[ie,e("span",null,i(s.seats)+" Seats",1)]),e("div",ae,[ne,e("span",null,i(s.doors)+" Doors",1)]),e("div",oe,[ce,e("span",null,i(s.passengers)+" persons",1)]),e("div",le,[re,e("span",null,i(s.fuel_type),1)]),e("div",de,[ue,e("span",null,i(s.transmission),1)]),e("div",_e,[he,e("span",null,i(s.range)+" Miles",1)])])])]),_:2},1032,["href"])]))),128))])])):(n(),o("div",{class:"tab-contentn placeholder-content",key:d.activeTab+"-none"},ge))]),_:1}),u.filteredVehicles.length>0?(n(),o("div",ve,ye)):m("",!0)])):m("",!0)}const Se=w(F,[["render",be],["__scopeId","data-v-cc4c2b1b"]]);export{Se as default};
