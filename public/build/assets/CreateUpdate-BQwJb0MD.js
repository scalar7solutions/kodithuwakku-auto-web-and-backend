import{d as p,J as i,e as v,o as _,w as u,f as o,B as y,g as a,k as C,K as V,E as d,F as w}from"./index-Cq6CXwRA.js";import{S as I,A as S}from"./AppLayout-D4Lv9NjB.js";import{F as k}from"./FileInputComponent-CiqSnrrK.js";import{E as x}from"./Editor-qk8kO09V.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-D2OW0BUk.js";const U={components:{Link:p.Link,AppLayout:S,Editor:x,FileInputComponent:k,SelectInputComponentVue:I},props:{errors:Object,allRoles:Object,backendUser:Object,branches:Array,service_types:Object,vehicle_manufacture:Object,testimonial:Object,homebanner:Object},data(){return{apiKey:void 0,form:p.useForm({id:"",name:"",status:"",image:"",editorContent:""})}},mounted(){var e;this.homebanner&&(this.form.id=this.homebanner.id,this.form.name=this.homebanner.name,this.form.status=this.homebanner.status,this.form.editorContent=this.homebanner.editorContent);var t=(e=this.branch)==null?void 0:e.media.filter(r=>r.custom_properties.type=="galery");t&&t.length>0&&(t.forEach(r=>{this.form.images.push(r)}),this.form.galery_images=t.map(r=>({previewURL:r.original_url}))||[])},computed:{image(){return this.homebanner&&this.homebanner.media.length>0?this.homebanner.media[0].original_url:""}},methods:{submit(){this.form.post(this.homebanner?route("homebanner.update"):route("homebanner.store"),{onSuccess:()=>{this.form.reset(),this.$root.showMessage("success",'<span class="text-success">Success</span><br/>',"A Record Was Created Successfully! ")},onError:()=>{this.form.reset("password","password_confirmation"),this.$root.showMessage("error",'<span class="text-danger">Error</span><br>',"Something went wrong! ")}})}},handleDragOver(t){t.preventDefault()},handleDrop(t){t.preventDefault();const e=t.dataTransfer.files;console.log("Dropped files:",e);for(let r=0;r<e.length;r++){const m=e[r];m.previewURL=URL.createObjectURL(m),this.form.images.push(e[r])}},removeImage(t){this.form.removed_images.push(this.form.images[t]),this.form.galery_images.splice(t,1)[0]}},E={class:"row"},O={class:"card mb-4"},j={class:"card-body"},A={class:"row"},D={class:"mb-3 col-md-6"},R={class:"text-danger"},F={class:"mb-3 col-md-6"},B={class:"text-danger"},M={class:"mt-2"},N=["disabled"];function T(t,e,r,m,s,l){const f=i("Editor"),c=i("FileInputComponent"),b=i("SelectInputComponentVue"),h=i("Link"),g=i("AppLayout");return _(),v(g,null,{default:u(()=>[o("div",E,[o("div",O,[e[10]||(e[10]=o("div",{class:"card-header pb-0"},[o("h5",null,"Home Banner"),o("p",null,"Manage home banner.")],-1)),e[11]||(e[11]=o("hr",null,null,-1)),o("div",j,[o("form",{id:"formAccountSettings",onSubmit:e[4]||(e[4]=y((...n)=>l.submit&&l.submit(...n),["prevent"]))},[o("div",A,[o("div",D,[e[5]||(e[5]=o("label",{for:"name",class:"form-label"},"Title",-1)),C(o("input",{class:"form-control",type:"text",id:"name",name:"Name","onUpdate:modelValue":e[0]||(e[0]=n=>s.form.name=n)},null,512),[[V,s.form.name]]),o("div",R,d(s.form.errors.name),1)]),o("div",null,[e[6]||(e[6]=o("label",{for:"description",class:"form-label"},"Description",-1)),a(f,{modelValue:s.form.editorContent,"onUpdate:modelValue":e[1]||(e[1]=n=>s.form.editorContent=n),"api-key":s.apiKey,init:{plugins:"lists link image table code help wordcount"}},null,8,["modelValue","api-key"])]),o("div",F,[e[7]||(e[7]=o("label",{for:"image",class:"form-label me-3"},"Image",-1)),e[8]||(e[8]=o("br",null,null,-1)),a(c,{isRequired:!1,id:"image",prvImage:l.image,modelValue:s.form.image,"onUpdate:modelValue":e[2]||(e[2]=n=>s.form.image=n)},null,8,["prvImage","modelValue"]),o("div",B,d(s.form.errors.image),1)])]),a(b,{id:"status",label:"status",error:s.form.errors.status,options:[{id:"1",name:"Active"},{id:"0",name:"Inactive"}],modelValue:s.form.status,"onUpdate:modelValue":e[3]||(e[3]=n=>s.form.status=n)},null,8,["error","modelValue"]),o("div",M,[o("button",{type:"submit",class:"btn btn-main me-2",disabled:s.form.processing},d(r.homebanner?"Update":"Save"),9,N),a(h,{class:"btn btn-outline-danger",href:t.route("homebanner.index")},{default:u(()=>e[9]||(e[9]=[w("Cancel")])),_:1,__:[9]},8,["href"])])],32)])])])]),_:1})}const G=L(U,[["render",T],["__scopeId","data-v-08a7f0dc"]]);export{G as default};
