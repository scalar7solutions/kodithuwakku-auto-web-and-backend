import V from"./SelectInputComponent-CWcz5clo.js";import{J as b,j as n,o as d,f as s,y as m,g as i,k as A,K as T,B as f,F as O,E as S,x as D}from"./index-Cq6CXwRA.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";const N={components:{SelectInputComponent:V},data(){return{index:"",form:{available_days:0,manufacturer:0,model:0,year_from:0,year_to:0,chassis:0,engine:0,color:"",lot_no:"",grade:0,start_price:0,mileage_from:0,mileage_to:0,search:!1},loading:!1,advance_search:!1}},props:{reload:{type:Boolean,default:!1}},computed:{auctionDateOptions(){return this.$page.props.auctionDates.map((l,e)=>({id:e,name:l==null?void 0:l.AUCTION_DATE}))},mileageOptions(){const l=this.$page.props.Mileage;return Array.isArray(l)?l.map(e=>({id:e.MILEAGE,name:e.MILEAGE})):[]}},mounted(){this.setQueryData(),this.reload&&this.$inertia.reload({data:{...this.form,search:!1},onSuccess:()=>{this.form.search=!1}}),$("#manufacture, #model, #engine, #year_from, #year_to, #grade, #chassis,  #available_days, #colors, #mileage_from, #mileage_to, #price").on("select2:open",function(){setTimeout(function(){let l=document.querySelector(".select2-container--open .select2-search__field");l&&l.focus()},100)})},methods:{resetFilter(){this.form={available_days:0,manufacturer:0,model:0,year_from:0,year_to:0,chassis:0,engine:0,color:0,lot_no:"",grade:0,start_price:0,mileage_from:0,mileage_to:0,search:!1}},advanceFilter(){this.loading=!0,this.advance_search==!1?(this.advance_search=!0,setTimeout(()=>{this.loading=!1},500)):(this.advance_search=!1,setTimeout(()=>{this.loading=!1},500))},onChangeField(l){console.log("jdsfhsdj"),this.$page.props.requestQuery.manufacturer!=this.form.manufacturer&&(this.form.model=0,this.form.year_from=0,this.form.year_to=0,this.form.chassis=0,this.form.color=0,this.form.grade=0,this.form.start_price=0,this.mileage_from=0,this.mileage_to=0),this.form.search=!1,this.loading=!0,this.$inertia.reload({method:"POST",data:{...this.form,_method:"GET"},onSuccess:()=>{this.setQueryData(),this.loading=!1}})},setQueryData(){this.form.available_days=this.$page.props.requestQuery.available_days??0,this.form.manufacturer=this.$page.props.requestQuery.manufacturer??0,this.form.model=this.$page.props.requestQuery.model??0,this.form.year_from=this.$page.props.requestQuery.year_from??0,this.form.year_to=this.$page.props.requestQuery.year_to??0,this.form.chassis=this.$page.props.requestQuery.chassis??0,this.form.engine=this.$page.props.requestQuery.engine??0,this.form.color=this.$page.props.requestQuery.color??0,this.form.lot_no=this.$page.props.requestQuery.lot_no??"",this.form.grade=this.$page.props.requestQuery.grade??0,this.form.start_price=this.$page.props.requestQuery.start_price??0,this.form.mileage_from=this.$page.props.requestQuery.mileage_from??0,this.form.mileage_to=this.$page.props.requestQuery.mileage_to??0,this.form.search=!1},filterData(){this.reload?this.$inertia.reload({methods:"POST",data:{...this.form,search:!0,_method:"GET"},onSuccess:()=>{this.setQueryData(),this.advance_search=!0}}):this.$inertia.visit(route("live.auction"),{data:{...this.form,search:!0},onSuccess:()=>{this.setQueryData(),this.advance_search=!0}})}}},Q={class:"filter-section"},R={class:"filter-container"},M={class:"filter-wrapper"},U={class:"filter-content"},L={class:"filter-grid"},I={class:"filter-field"},q={class:"filter-field"},k={class:"filter-field"},G={class:"filter-field"},P={class:"year-range"},K={class:"filter-field"},B={class:"filter-field"},Y={class:"filter-field"},w={key:0,class:"filter-field"},j={key:1,class:"filter-field"},H={key:2,class:"filter-field"},Z={class:"mileage-range"},z={key:3,class:"filter-field"},J={class:"filter-field"},W={class:"filter-actions"},X={class:"action-buttons"},x={key:0,class:"loading-overlay"};function ee(l,e,oe,se,a,r){var p,u,h,g,c,y,C,_,v,E;const t=b("SelectInputComponent");return d(),n("section",Q,[s("div",R,[s("div",M,[s("div",U,[s("div",L,[s("div",I,[e[16]||(e[16]=s("label",{for:"make-select",class:"filter-label"},"Make",-1)),i(t,{id:"manufacture",modelValue:a.form.manufacturer,"onUpdate:modelValue":e[0]||(e[0]=o=>a.form.manufacturer=o),placeholder:"SELECT MAKE",onChange:r.onChangeField,options:(p=l.$page.props.manufactures)==null?void 0:p.map(o=>({id:o.MARKA_NAME,name:o.MARKA_NAME}))},null,8,["modelValue","onChange","options"])]),s("div",q,[e[17]||(e[17]=s("label",{for:"model-select",class:"filter-label"},"Model",-1)),i(t,{id:"model",modelValue:a.form.model,"onUpdate:modelValue":e[1]||(e[1]=o=>a.form.model=o),placeholder:"SELECT MODEL",onChange:r.onChangeField,options:(u=l.$page.props.models)==null?void 0:u.map(o=>({id:o.MODEL_NAME,name:o.MODEL_NAME}))},null,8,["modelValue","onChange","options"])]),s("div",k,[e[18]||(e[18]=s("label",{for:"engine",class:"filter-label"},"Engine CC",-1)),i(t,{id:"engine",modelValue:a.form.engine,"onUpdate:modelValue":e[2]||(e[2]=o=>a.form.engine=o),placeholder:"SELECT ENGINE CC",onChange:r.onChangeField,options:(h=l.$page.props.engineCapacity)==null?void 0:h.map(o=>({id:o.ENG_V,name:o.ENG_V}))},null,8,["modelValue","onChange","options"])]),s("div",G,[e[19]||(e[19]=s("label",{for:"days",class:"filter-label"},"Select Year",-1)),s("div",P,[i(t,{id:"year_from",modelValue:a.form.year_from,"onUpdate:modelValue":e[3]||(e[3]=o=>a.form.year_from=o),placeholder:"FROM",onChange:r.onChangeField,options:(g=l.$page.props.years)==null?void 0:g.map(o=>({id:o.YEAR,name:o.YEAR}))},null,8,["modelValue","onChange","options"]),i(t,{id:"year_to",modelValue:a.form.year_to,"onUpdate:modelValue":e[4]||(e[4]=o=>a.form.year_to=o),placeholder:"TO",onChange:r.onChangeField,options:(c=l.$page.props.years)==null?void 0:c.map(o=>({id:o.YEAR,name:o.YEAR}))},null,8,["modelValue","onChange","options"])])]),s("div",K,[e[20]||(e[20]=s("label",{for:"chassis",class:"filter-label"},"Chassis ID",-1)),i(t,{id:"chassis",modelValue:a.form.chassis,"onUpdate:modelValue":e[5]||(e[5]=o=>a.form.chassis=o),placeholder:"SELECT CHASSIS ID",onChange:r.onChangeField,options:(y=l.$page.props.chassisNumbers)==null?void 0:y.map(o=>({id:o.KUZOV,name:o.KUZOV}))},null,8,["modelValue","onChange","options"])]),s("div",B,[e[21]||(e[21]=s("label",{for:"grade",class:"filter-label"},"Auction Grade",-1)),i(t,{id:"grade",modelValue:a.form.grade,"onUpdate:modelValue":e[6]||(e[6]=o=>a.form.grade=o),placeholder:"SELECT AUCTION GRADE",onChange:r.onChangeField,options:(C=l.$page.props.Condition)==null?void 0:C.map(o=>({id:o.RATE,name:o.RATE}))},null,8,["modelValue","onChange","options"])]),s("div",Y,[e[22]||(e[22]=s("label",{for:"days",class:"filter-label"},"Lot No",-1)),A(s("input",{class:"form-control filter-input",type:"text",placeholder:"ENTER LOT NO","onUpdate:modelValue":e[7]||(e[7]=o=>a.form.lot_no=o)},null,512),[[T,a.form.lot_no]])]),this.advance_search?(d(),n("div",w,[e[23]||(e[23]=s("label",{for:"days",class:"filter-label"},"Auction Available Days",-1)),i(t,{id:"available_days",modelValue:a.form.available_days,"onUpdate:modelValue":e[8]||(e[8]=o=>a.form.available_days=o),placeholder:"SELECT AUCTION DATE",onChange:r.onChangeField,options:(_=l.$page.props.auctionDates)==null?void 0:_.map(o=>({id:o.AUCTION_DATE,name:o.AUCTION_DATE}))},null,8,["modelValue","onChange","options"])])):m("",!0),this.advance_search?(d(),n("div",j,[e[24]||(e[24]=s("label",{for:"days",class:"filter-label"},"Color",-1)),i(t,{id:"colors",modelValue:a.form.color,"onUpdate:modelValue":e[9]||(e[9]=o=>a.form.color=o),placeholder:"SELECT COLOR",onChange:r.onChangeField,options:(v=l.$page.props.colorQuery)==null?void 0:v.map(o=>({id:o.COLOR,name:o.COLOR}))},null,8,["modelValue","onChange","options"])])):m("",!0),this.advance_search?(d(),n("div",H,[e[25]||(e[25]=s("label",{class:"filter-label"},"Mileage",-1)),s("div",Z,[i(t,{id:"mileage_from",modelValue:a.form.mileage_from,"onUpdate:modelValue":e[10]||(e[10]=o=>a.form.mileage_from=o),placeholder:"FROM",onChange:r.onChangeField,options:r.mileageOptions},null,8,["modelValue","onChange","options"]),i(t,{id:"mileage_to",modelValue:a.form.mileage_to,"onUpdate:modelValue":e[11]||(e[11]=o=>a.form.mileage_to=o),placeholder:"TO",onChange:r.onChangeField,options:r.mileageOptions},null,8,["modelValue","onChange","options"])])])):m("",!0),this.advance_search?(d(),n("div",z,[e[26]||(e[26]=s("label",{for:"days",class:"filter-label"},"Start Price",-1)),i(t,{id:"price",modelValue:a.form.start_price,"onUpdate:modelValue":e[12]||(e[12]=o=>a.form.start_price=o),placeholder:"SELECT START PRICE",onChange:r.onChangeField,options:(E=l.$page.props.PriceQuery)==null?void 0:E.map(o=>({id:o.AVG_PRICE,name:o.AVG_PRICE}))},null,8,["modelValue","onChange","options"])])):m("",!0),s("div",J,[s("button",{type:"button",class:"advance-search-btn",onClick:e[13]||(e[13]=f((...o)=>r.advanceFilter&&r.advanceFilter(...o),["prevent"]))},[O(S(a.advance_search?"Hide advance search":"Advance search")+" ",1),s("i",{class:D(["fa-solid",a.advance_search?"fa-angles-up":"fa-angles-down","ps-2"])},null,2)])])]),s("div",W,[s("div",X,[s("button",{type:"button",class:"btn btn-reset",onClick:e[14]||(e[14]=f((...o)=>r.resetFilter&&r.resetFilter(...o),["prevent"]))}," RESET "),s("button",{type:"button",class:"btn btn-search",onClick:e[15]||(e[15]=f((...o)=>r.filterData&&r.filterData(...o),["prevent"]))}," SEARCH ")])])]),a.loading?(d(),n("div",x,e[27]||(e[27]=[s("div",{class:"loading-content"},[s("div",{class:"spinner-border text-primary",role:"status"},[s("span",{class:"visually-hidden"},"Loading...")]),s("p",{class:"loading-text"},"Please Wait..")],-1)]))):m("",!0)])])])}const te=F(N,[["render",ee],["__scopeId","data-v-c7e43b81"]]);export{te as default};
