import{d as M,J as c,j as i,o as n,g as l,f as s,x as g,k as b,K as E,y as v,N as A,G as p,H as w,w as B,E as a,F as u}from"./index-Cq6CXwRA.js";import F from"./Types-CrENYu0c.js";import P from"./Manufactures-DlXd5BEo.js";import N from"./Models-CFdeTqIe.js";import D from"./Countries-BjdAD2bo.js";import R from"./Banner-ZxAN1oBC.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                              */const H={components:{Types:F,Manufactures:P,Models:N,Countries:D,Link:M.Link,Banner:R},name:"AvailableStockIndex",data(){return{isSticky:!1,sortBy:this.$page.props.requestQuery.sortBy||"",keyword:this.$page.props.requestQuery.keyword||"",isLoading:!1}},computed:{selectedCountry(){return this.$page.props.selectedCountry||null}},mounted(){window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){var m;const o=window.scrollY,t=((m=this.$refs.filterSidebar)==null?void 0:m.offsetTop)||0;this.isSticky=o>t},search(){this.isLoading=!0,this.$inertia.reload({method:"POST",data:{_method:"GET",keyword:this.keyword},onFinish:()=>{this.isLoading=!1}})},clearSearch(){this.keyword="",this.isLoading=!0,this.$inertia.visit("/available-cars",{method:"get",onFinish:()=>{this.isLoading=!1}})},applySort(){this.isLoading=!0;const o={...this.$page.props.requestQuery,sortBy:this.sortBy};this.$inertia.get(window.location.pathname,o,{preserveScroll:!0,onFinish:()=>{this.isLoading=!1}})},formatPrice(o){return o==null?"0":(Number(o)||0).toLocaleString("en-LK",{minimumFractionDigits:0,maximumFractionDigits:0})}}},V={class:"container4 mt-5 mb-5"},O={class:"row"},Y={class:"col-lg-3 position-relative"},$={class:"card-body"},j={class:"d-flex flex-column"},q={class:"d-flex justify-content-end gap-2"},I={class:"accordion",id:"accordionExample"},K={class:"accordion-item border-0 mb-2"},Q={id:"collapseOne",class:"accordion-collapse collapse show","data-bs-parent":"#accordionExample"},G={class:"accordion-body"},z={class:"accordion-item border-0 mb-2"},J={id:"collapseTwo",class:"accordion-collapse collapse","data-bs-parent":"#accordionExample"},W={class:"accordion-body"},X={class:"accordion-item border-0 mb-2"},Z={id:"collapseThree",class:"accordion-collapse collapse","data-bs-parent":"#accordionExample"},ss={class:"accordion-body"},ts={class:"accordion-item border-0 mb-2"},es={id:"collapseFour",class:"accordion-collapse collapse","data-bs-parent":"#accordionExample"},os={class:"accordion-body"},as={class:"col-lg-9"},is={class:"d-flex justify-content-between align-items-center mb-3"},ns={key:0,class:"text-center"},rs={key:1,class:"cards-grid"},ls={class:"image-container"},ds=["src"],cs={class:"image-counter"},ps={class:"card-content"},us={class:"price-section"},ms={class:"price-left"},gs={class:"price"},fs={class:"price-note"},ys={class:"price-right"},_s={class:"detail-item"},hs={class:"detail-item"},bs={class:"detail-item"},vs={key:1,style:{color:"green"}},ws={key:0,class:"detail-item"},ks={class:"car-details mb-2"},Ss={class:"car-name"},Ls={class:"features-grid"},Ts={class:"feature-item feature-left"},xs={class:"feature-item feature-right"},Cs={class:"feature-item feature-left"},Ms={class:"feature-item feature-right"},Es={class:"feature-item feature-left"},As={class:"feature-item feature-right"},Bs={key:2,class:"mt-4 flex justify-center"},Fs={"aria-label":"Page navigation"},Ps={class:"pagination"},Ns={key:3,class:"text-center"};function Ds(o,t,m,Rs,d,r){const k=c("Banner"),S=c("Types"),L=c("Manufactures"),T=c("Models"),x=c("Countries"),f=c("Link");return n(),i(p,null,[l(k,{"selected-country":r.selectedCountry},null,8,["selected-country"]),s("div",V,[s("div",O,[s("div",Y,[s("div",{class:g(["p-3 filter-sidebar",{"sticky-filter":d.isSticky}])},[s("div",$,[t[9]||(t[9]=s("h3",{class:"mb-4"},"Filter Car",-1)),s("div",j,[b(s("input",{type:"text",class:"form-control rounded mb-2",placeholder:"Search vehicles...","onUpdate:modelValue":t[0]||(t[0]=e=>d.keyword=e)},null,512),[[E,d.keyword]]),s("div",q,[s("button",{class:"btn btn-primary",onClick:t[1]||(t[1]=(...e)=>r.search&&r.search(...e))},"Search"),s("button",{class:"btn btn-secondary",onClick:t[2]||(t[2]=(...e)=>r.clearSearch&&r.clearSearch(...e))},"Clear")])]),s("div",I,[s("div",K,[t[5]||(t[5]=s("h2",{class:"accordion-header"},[s("button",{class:"accordion-button rounded",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"},"TYPE")],-1)),s("div",Q,[s("div",G,[l(S)])])]),s("div",z,[t[6]||(t[6]=s("h2",{class:"accordion-header"},[s("button",{class:"accordion-button collapsed rounded",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseTwo","aria-expanded":"false","aria-controls":"collapseTwo"},"MANUFACTURER")],-1)),s("div",J,[s("div",W,[l(L)])])]),s("div",X,[t[7]||(t[7]=s("h2",{class:"accordion-header"},[s("button",{class:"accordion-button collapsed rounded",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseThree","aria-expanded":"false","aria-controls":"collapseThree"},"MODEL")],-1)),s("div",Z,[s("div",ss,[l(T)])])]),s("div",ts,[t[8]||(t[8]=s("h2",{class:"accordion-header"},[s("button",{class:"accordion-button collapsed rounded",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseFour","aria-expanded":"false","aria-controls":"collapseFour"},"COUNTRY")],-1)),s("div",es,[s("div",os,[l(x,{countries:o.$page.props.countries},null,8,["countries"])])])])])])],2)]),s("div",as,[s("div",is,[b(s("select",{class:"form-select w-auto ms-auto","onUpdate:modelValue":t[3]||(t[3]=e=>d.sortBy=e),onChange:t[4]||(t[4]=(...e)=>r.applySort&&r.applySort(...e))},t[10]||(t[10]=[s("option",{value:""},"Sort by",-1),s("option",{value:"priceLowHigh"},"Price: Low to High",-1),s("option",{value:"priceHighLow"},"Price: High to Low",-1),s("option",{value:"newest"},"Newest Arrivals",-1)]),544),[[A,d.sortBy]])]),d.isLoading?(n(),i("div",ns,t[11]||(t[11]=[s("p",null,"Loading vehicles...",-1)]))):o.$page.props.vehicles.data.length?(n(),i("div",rs,[(n(!0),i(p,null,w(o.$page.props.vehicles.data,e=>(n(),i("div",{class:"card-wrapper",key:e.id},[l(f,{class:"card car-card h-100 position-relative text-decoration-none text-dark",href:o.route("product",{model:o.$root.stringToSlug(e.manufacture.title),slug:o.$root.stringToSlug(e.manufacture.title)+"-"+o.$root.stringToSlug(e.vehicle_model.title),id:e.id})},{default:B(()=>{var y,_;return[s("div",ls,[s("img",{src:(y=e.media.find(C=>{var h;return((h=C.custom_properties)==null?void 0:h.type)==="vehicle_main"}))==null?void 0:y.original_url,alt:"Car Image",class:"car-image img-fluid"},null,8,ds),s("div",cs,[t[12]||(t[12]=s("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[s("rect",{x:"2",y:"2",width:"16",height:"16",rx:"2"}),s("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),s("path",{d:"M20.4 14.5L16 10 4 20"})],-1)),s("span",null,a(((_=e.media)==null?void 0:_.length)||0),1)])]),s("div",ps,[s("div",us,[s("div",ms,[t[14]||(t[14]=s("span",{class:"label"},"Price",-1)),s("span",gs,[u(a(r.formatPrice(e.price))+" ",1),t[13]||(t[13]=s("span",{class:"currency"},"LKR",-1))]),s("span",fs,a(e.priceNote||"Price includes VAT"),1)]),s("div",ys,[s("div",_s,[e.used_status==="Used"?(n(),i(p,{key:0},[u(a(e.engine_capacity)+" Initial Payment",1)],64)):(n(),i(p,{key:1},[u(a(e.engine_capacity)+" Engine",1)],64))]),s("div",hs,a(e.year||"24 Month Contract")+" Reg Year",1),s("div",bs,[e.used_status==="Used"?(n(),i(p,{key:0},[u(a(e.mileage)+" Miles P/A ",1)],64)):(n(),i("span",vs,"BRAND NEW"))]),e.monthly_price?(n(),i("div",ws,[u(a(r.formatPrice(e.monthly_price))+" ",1),t[15]||(t[15]=s("span",{class:"currency"},"LKR",-1)),t[16]||(t[16]=u(" Per Month "))])):v("",!0)])]),s("div",ks,[s("h2",Ss,a(e.manufacture.title)+" "+a(e.vehicle_model.title),1),s("p",{class:g(["car-model",{"availability-available":e.availability==="Available","availability-arriving":e.availability==="Arriving","availability-sold":e.availability==="Sold"}])},a(e.availability),3)]),s("div",Ls,[s("div",Ts,[t[17]||(t[17]=s("img",{class:"ficon",src:"/images/Assets/seat.svg",alt:"Seat icon"},null,-1)),s("span",null,a(e.seats)+" Seats",1)]),s("div",xs,[t[18]||(t[18]=s("img",{class:"ficon",src:"/images/Assets/doors.svg",alt:"Door icon"},null,-1)),s("span",null,a(e.doors)+" Doors",1)]),s("div",Cs,[t[19]||(t[19]=s("img",{class:"ficon",src:"/images/Assets/passenger.svg",alt:"Passengers icon"},null,-1)),s("span",null,a(e.passengers)+" persons",1)]),s("div",Ms,[t[20]||(t[20]=s("img",{class:"ficon",src:"/images/Assets/flash.svg",alt:"Fuel icon"},null,-1)),s("span",null,a(e.fuel_type),1)]),s("div",Es,[t[21]||(t[21]=s("img",{class:"ficon",src:"/images/Assets/automatc.svg",alt:"Transmission icon"},null,-1)),s("span",null,a(e.transmission),1)]),s("div",As,[t[22]||(t[22]=s("img",{class:"ficon",src:"/images/Assets/miles.svg",alt:"Range icon"},null,-1)),s("span",null,a(e.range)+" Miles",1)])])])]}),_:2},1032,["href"])]))),128))])):v("",!0),o.$page.props.vehicles.links.length?(n(),i("div",Bs,[s("nav",Fs,[s("ul",Ps,[(n(!0),i(p,null,w(o.$page.props.vehicles.links,e=>(n(),i("li",{key:e.label,class:g(["page-item",{active:e.active,disabled:!e.url}])},[l(f,{class:"page-link",href:e.url,innerHTML:e.label},null,8,["href","innerHTML"])],2))),128))])])])):(n(),i("div",Ns,t[23]||(t[23]=[s("p",null,"No vehicles found matching your filters.",-1)])))])])])],64)}const Is=U(H,[["render",Ds],["__scopeId","data-v-45ac13a2"]]);export{Is as default};
