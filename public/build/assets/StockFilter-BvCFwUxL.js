import{d as M,J as c,j as a,o as i,g as r,f as s,x as m,k as b,K as E,y as v,N as A,G as p,H as w,w as B,E as o,F as g}from"./index-Cq6CXwRA.js";import F from"./Types-CrENYu0c.js";import N from"./Manufactures-DlXd5BEo.js";import P from"./Models-CFdeTqIe.js";import $ from"./Countries-BjdAD2bo.js";import U from"./Banner-ZxAN1oBC.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                              */const V={components:{Types:F,Manufactures:N,Models:P,Countries:$,Link:M.Link,Banner:U},name:"AvailableStockIndex",data(){return{isSticky:!1,sortBy:this.$page.props.requestQuery.sortBy||"",keyword:this.$page.props.requestQuery.keyword||"",isLoading:!1}},computed:{selectedCountry(){return this.$page.props.selectedCountry||null}},mounted(){window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){var u;const n=window.scrollY,e=((u=this.$refs.filterSidebar)==null?void 0:u.offsetTop)||0;this.isSticky=n>e},search(){this.isLoading=!0,this.$inertia.reload({method:"POST",data:{_method:"GET",keyword:this.keyword},onFinish:()=>{this.isLoading=!1}})},clearSearch(){this.keyword="",this.isLoading=!0,this.$inertia.visit("/available-cars",{method:"get",onFinish:()=>{this.isLoading=!1}})},applySort(){this.isLoading=!0;const n={...this.$page.props.requestQuery,sortBy:this.sortBy};this.$inertia.get(window.location.pathname,n,{preserveScroll:!0,onFinish:()=>{this.isLoading=!1}})}}},D={class:"container4 mt-5 mb-5"},O={class:"row"},R={class:"col-lg-3 position-relative"},Y={class:"card-body"},j={class:"d-flex flex-column"},q={class:"d-flex justify-content-end gap-2"},I={class:"accordion",id:"accordionExample"},Q={class:"accordion-item border-0 mb-2"},G={id:"collapseOne",class:"accordion-collapse collapse show","data-bs-parent":"#accordionExample"},z={class:"accordion-body"},J={class:"accordion-item border-0 mb-2"},K={id:"collapseTwo",class:"accordion-collapse collapse","data-bs-parent":"#accordionExample"},W={class:"accordion-body"},X={class:"accordion-item border-0 mb-2"},Z={id:"collapseThree",class:"accordion-collapse collapse","data-bs-parent":"#accordionExample"},ss={class:"accordion-body"},ts={class:"accordion-item border-0 mb-2"},es={id:"collapseFour",class:"accordion-collapse collapse","data-bs-parent":"#accordionExample"},os={class:"accordion-body"},as={class:"col-lg-9"},is={class:"d-flex justify-content-between align-items-center mb-3"},ns={key:0,class:"text-center"},ls={key:1,class:"cards-grid"},rs={class:"image-container"},ds=["src"],cs={class:"image-counter"},ps={class:"card-content"},us={class:"price-section"},ms={class:"price-left"},gs={class:"price"},_s={class:"price-note"},fs={class:"price-right"},ys={class:"detail-item"},hs={class:"detail-item"},bs={class:"detail-item"},vs={key:1,style:{color:"green"}},ws={key:0,class:"detail-item"},ks={class:"car-details mb-2"},Ss={class:"car-name"},Ts={class:"features-grid"},Ls={class:"feature-item feature-left"},xs={class:"feature-item feature-right"},Cs={class:"feature-item feature-left"},Ms={class:"feature-item feature-right"},Es={class:"feature-item feature-left"},As={class:"feature-item feature-right"},Bs={key:2,class:"mt-4 flex justify-center"},Fs={"aria-label":"Page navigation"},Ns={class:"pagination"},Ps={key:3,class:"text-center"};function $s(n,e,u,Us,d,l){const k=c("Banner"),S=c("Types"),T=c("Manufactures"),L=c("Models"),x=c("Countries"),_=c("Link");return i(),a(p,null,[r(k,{"selected-country":l.selectedCountry},null,8,["selected-country"]),s("div",D,[s("div",O,[s("div",R,[s("div",{class:m(["p-3 filter-sidebar",{"sticky-filter":d.isSticky}])},[s("div",Y,[e[9]||(e[9]=s("h3",{class:"mb-4"},"Filter Car",-1)),s("div",j,[b(s("input",{type:"text",class:"form-control rounded mb-2",placeholder:"Search vehicles...","onUpdate:modelValue":e[0]||(e[0]=t=>d.keyword=t)},null,512),[[E,d.keyword]]),s("div",q,[s("button",{class:"btn btn-primary",onClick:e[1]||(e[1]=(...t)=>l.search&&l.search(...t))},"Search"),s("button",{class:"btn btn-secondary",onClick:e[2]||(e[2]=(...t)=>l.clearSearch&&l.clearSearch(...t))},"Clear")])]),s("div",I,[s("div",Q,[e[5]||(e[5]=s("h2",{class:"accordion-header"},[s("button",{class:"accordion-button rounded",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"},"TYPE")],-1)),s("div",G,[s("div",z,[r(S)])])]),s("div",J,[e[6]||(e[6]=s("h2",{class:"accordion-header"},[s("button",{class:"accordion-button collapsed rounded",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseTwo","aria-expanded":"false","aria-controls":"collapseTwo"},"MANUFACTURER")],-1)),s("div",K,[s("div",W,[r(T)])])]),s("div",X,[e[7]||(e[7]=s("h2",{class:"accordion-header"},[s("button",{class:"accordion-button collapsed rounded",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseThree","aria-expanded":"false","aria-controls":"collapseThree"},"MODEL")],-1)),s("div",Z,[s("div",ss,[r(L)])])]),s("div",ts,[e[8]||(e[8]=s("h2",{class:"accordion-header"},[s("button",{class:"accordion-button collapsed rounded",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseFour","aria-expanded":"false","aria-controls":"collapseFour"},"COUNTRY")],-1)),s("div",es,[s("div",os,[r(x,{countries:n.$page.props.countries},null,8,["countries"])])])])])])],2)]),s("div",as,[s("div",is,[b(s("select",{class:"form-select w-auto ms-auto","onUpdate:modelValue":e[3]||(e[3]=t=>d.sortBy=t),onChange:e[4]||(e[4]=(...t)=>l.applySort&&l.applySort(...t))},e[10]||(e[10]=[s("option",{value:""},"Sort by",-1),s("option",{value:"priceLowHigh"},"Price: Low to High",-1),s("option",{value:"priceHighLow"},"Price: High to Low",-1),s("option",{value:"newest"},"Newest Arrivals",-1)]),544),[[A,d.sortBy]])]),d.isLoading?(i(),a("div",ns,e[11]||(e[11]=[s("p",null,"Loading vehicles...",-1)]))):n.$page.props.vehicles.data.length?(i(),a("div",ls,[(i(!0),a(p,null,w(n.$page.props.vehicles.data,t=>(i(),a("div",{class:"card-wrapper",key:t.id},[r(_,{class:"card car-card h-100 position-relative text-decoration-none text-dark",href:n.route("product",{model:n.$root.stringToSlug(t.manufacture.title),slug:n.$root.stringToSlug(t.manufacture.title)+"-"+n.$root.stringToSlug(t.vehicle_model.title),id:t.id})},{default:B(()=>{var f,y;return[s("div",rs,[s("img",{src:(f=t.media.find(C=>{var h;return((h=C.custom_properties)==null?void 0:h.type)==="vehicle_main"}))==null?void 0:f.original_url,alt:"Car Image",class:"car-image img-fluid"},null,8,ds),s("div",cs,[e[12]||(e[12]=s("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[s("rect",{x:"2",y:"2",width:"16",height:"16",rx:"2"}),s("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),s("path",{d:"M20.4 14.5L16 10 4 20"})],-1)),s("span",null,o(((y=t.media)==null?void 0:y.length)||0),1)])]),s("div",ps,[s("div",us,[s("div",ms,[e[13]||(e[13]=s("span",{class:"label"},"Price",-1)),s("span",gs,"$"+o(t.price||0),1),s("span",_s,o(t.priceNote||"Price includes VAT"),1)]),s("div",fs,[s("div",ys,[t.used_status==="Used"?(i(),a(p,{key:0},[g(o(t.engine_capacity)+" Initial Payment",1)],64)):(i(),a(p,{key:1},[g(o(t.engine_capacity)+" Engine",1)],64))]),s("div",hs,o(t.year||"24 Month Contract")+" Reg Year",1),s("div",bs,[t.used_status==="Used"?(i(),a(p,{key:0},[g(o(t.mileage)+" Miles P/A ",1)],64)):(i(),a("span",vs,"BRAND NEW"))]),t.monthly_price?(i(),a("div",ws,o("$"+t.monthly_price)+" Per Month",1)):v("",!0)])]),s("div",ks,[s("h2",Ss,o(t.manufacture.title)+" "+o(t.vehicle_model.title),1),s("p",{class:m(["car-model",{"availability-available":t.availability==="Available","availability-arriving":t.availability==="Arriving","availability-sold":t.availability==="Sold"}])},o(t.availability),3)]),s("div",Ts,[s("div",Ls,[e[14]||(e[14]=s("img",{class:"ficon",src:"/images/Assets/seat.svg",alt:"Seat icon"},null,-1)),s("span",null,o(t.seats)+" Seats",1)]),s("div",xs,[e[15]||(e[15]=s("img",{class:"ficon",src:"/images/Assets/doors.svg",alt:"Door icon"},null,-1)),s("span",null,o(t.doors)+" Doors",1)]),s("div",Cs,[e[16]||(e[16]=s("img",{class:"ficon",src:"/images/Assets/passenger.svg",alt:"Passengers icon"},null,-1)),s("span",null,o(t.passengers)+" persons",1)]),s("div",Ms,[e[17]||(e[17]=s("img",{class:"ficon",src:"/images/Assets/flash.svg",alt:"Fuel icon"},null,-1)),s("span",null,o(t.fuel_type),1)]),s("div",Es,[e[18]||(e[18]=s("img",{class:"ficon",src:"/images/Assets/automatc.svg",alt:"Transmission icon"},null,-1)),s("span",null,o(t.transmission),1)]),s("div",As,[e[19]||(e[19]=s("img",{class:"ficon",src:"/images/Assets/miles.svg",alt:"Range icon"},null,-1)),s("span",null,o(t.range)+" Miles",1)])])])]}),_:2},1032,["href"])]))),128))])):v("",!0),n.$page.props.vehicles.links.length?(i(),a("div",Bs,[s("nav",Fs,[s("ul",Ns,[(i(!0),a(p,null,w(n.$page.props.vehicles.links,t=>(i(),a("li",{key:t.label,class:m(["page-item",{active:t.active,disabled:!t.url}])},[r(_,{class:"page-link",href:t.url,innerHTML:t.label},null,8,["href","innerHTML"])],2))),128))])])])):(i(),a("div",Ps,e[20]||(e[20]=[s("p",null,"No vehicles found matching your filters.",-1)])))])])])],64)}const Is=H(V,[["render",$s],["__scopeId","data-v-528313f1"]]);export{Is as default};
